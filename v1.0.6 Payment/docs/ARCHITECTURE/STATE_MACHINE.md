# üìê State Machine

**‚Üí –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç:** `../COMPLETE_SYSTEM_LOGIC.md` —Ä–∞–∑–¥–µ–ª 12

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

State Machine –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –Ω–∏–º–∏.

---

## üîó –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–º. `../COMPLETE_SYSTEM_LOGIC.md` —Ä–∞–∑–¥–µ–ª 12 "üìê State Machine (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã)"** –¥–ª—è:
- –ü–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤
- –ü—Ä–∞–≤–∏–ª –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

---

## üìù –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã

- **`paid_trial`** ‚Äî 14-–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ (–±–µ–∑ –∫–∞—Ä—Ç—ã)
- **`paid`** ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è –æ–ø–ª–∞—á–µ–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
- **`billing_problem`** ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ–ø–ª–∞—Ç–æ–π (grace period 1 –¥–µ–Ω—å)
- **`limited_free_trial`** ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Å –ª–∏–º–∏—Ç–∞–º–∏ (5/25/50)
- **`admin_active`** ‚Äî –∞–¥–º–∏–Ω-–∞–∫—Ç–∏–≤–∞—Ü–∏—è
- **`grandfathered`** ‚Äî legacy –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

---

## üìù –ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

- `paid_trial` ‚Üí `paid` (—á–µ—Ä–µ–∑ `invoice.payment_succeeded`)
- `paid` ‚Üí `billing_problem` (—á–µ—Ä–µ–∑ `invoice.payment_failed`)
- `billing_problem` ‚Üí `paid` (—á–µ—Ä–µ–∑ `invoice.payment_succeeded`)
- `billing_problem` ‚Üí `limited_free_trial` (–ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è grace period)

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û—Ç–∫—Ä–æ–π—Ç–µ `../COMPLETE_SYSTEM_LOGIC.md` —Ä–∞–∑–¥–µ–ª 12 –¥–ª—è –ø–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã

