# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í –Ω–∞—á–∞–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –º–∏–∫—Ä–æ—Ñ–æ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–æ –∑–∞—Ç–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –ø—Ä–∏—á–∏–Ω–µ.

## –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ —Å–æ–±—ã—Ç–∏–π

1. **14:01:52.269** - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `launching: /usr/bin/open -n -a /Applications/Nexy.app`
2. **14:01:52.575** - `void _NSDisableAutomaticTerminationAndLog(NSString *) No windows open yet` - TAL hold —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç, —á—Ç–æ –Ω–µ—Ç –æ–∫–æ–Ω
3. **14:01:54.470** - –ú–∏–∫—Ä–æ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏: `setPlayState Started Input`
4. **14:01:54.493** - Error 35 –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞—É–¥–∏–æ: `HALC_ProxyIOContext::_StartIO(): Start failed - StartAndWaitForState returned error 35`
5. **14:01:57.526** - **–ö–†–ò–¢–ò–ß–ù–û**: `Assertion did invalidate due to timeout: 399-399-78608` - Assertion –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ ~5 —Å–µ–∫—É–Ω–¥
6. **14:01:57.543** - `Entering exit handler.` - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

### –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è

1. **TAL hold –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞**
   - –í –ª–æ–≥–∞—Ö –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è `TAL=hold` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
   - –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ `No windows open yet`
   - –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `_hold_tal_until_tray_ready()` –ª–∏–±–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –ª–∏–±–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

2. **Assertion –∏—Å—Ç–µ–∫–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ**
   - Assertion –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ ~5 —Å–µ–∫—É–Ω–¥ (—Å 14:01:52 –¥–æ 14:01:57)
   - –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ª–∏–±–æ TAL hold –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –ª–∏–±–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏

3. **Tray icon –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–≤—Ä–µ–º—è**
   - –í –ª–æ–≥–∞—Ö –Ω–µ—Ç —Å–æ–±—ã—Ç–∏—è `tray.integration_ready` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
   - –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ tray icon –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞ 5 —Å–µ–∫—É–Ω–¥

4. **–ú–∏–∫—Ä–æ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ tray**
   - –ú–∏–∫—Ä–æ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ 14:01:54.470, –Ω–æ tray icon –Ω–µ –≥–æ—Ç–æ–≤
   - –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã

**–ü–†–û–ë–õ–ï–ú–ê**: –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ TAL hold –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. Assertion –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ ~5 —Å–µ–∫—É–Ω–¥, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ tray icon —É—Å–ø–µ–≤–∞–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è.

**–ü–†–ò–ß–ò–ù–ê**: 

**–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê**: –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

1. `main.py` –≤—ã–∑—ã–≤–∞–µ—Ç `disableAutomaticTermination_()` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `activate_nsapplication_for_menu_bar()` (—Å—Ç—Ä–æ–∫–∞ 126)
2. –ó–∞—Ç–µ–º `SimpleModuleCoordinator.run()` –≤—ã–∑—ã–≤–∞–µ—Ç `_hold_tal_until_tray_ready()` (—Å—Ç—Ä–æ–∫–∞ 872)
3. `_hold_tal_until_tray_ready()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `automaticTerminationSupportEnabled()` - –æ–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `False` (–ø–æ—Ç–æ–º—É —á—Ç–æ TAL —É–∂–µ –æ—Ç–∫–ª—é—á–µ–Ω –≤ `main.py`)
4. –ö–æ–¥ –≤—Ö–æ–¥–∏—Ç –≤ –±–ª–æ–∫ `else` –∏ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç `"[ANTI_TAL] Automatic termination already disabled"` - **–ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TAL hold –∏ –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!**
5. Assertion –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ ~5 —Å–µ–∫—É–Ω–¥ (—Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–π–º–∞—É—Ç)
6. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ tray icon —É—Å–ø–µ–≤–∞–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è

**–ö–û–†–ï–ù–¨ –ü–†–û–ë–õ–ï–ú–´**: `_hold_tal_until_tray_ready()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `automaticTerminationSupportEnabled()` –∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TAL hold, –µ—Å–ª–∏ –æ–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `False`. –ù–æ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ TAL —É–∂–µ –æ—Ç–∫–ª—é—á–µ–Ω –≤ `main.py`, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ assertion –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.

## –†–µ—à–µ–Ω–∏–µ

**–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `_hold_tal_until_tray_ready()`:

1. **–í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º TAL hold**, –¥–∞–∂–µ –µ—Å–ª–∏ `automaticTerminationSupportEnabled()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `False`
2. **–í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ assertion**, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è TAL
3. **–í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ–º assertion** –≤ `_periodically_refresh_tal_hold()`, –¥–∞–∂–µ –µ—Å–ª–∏ `automaticTerminationSupportEnabled()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `False`

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

**`integration/core/simple_module_coordinator.py`**:

1. **`_hold_tal_until_tray_ready()`**:
   - –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if process_info.automaticTerminationSupportEnabled()`
   - –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `disableAutomaticTermination_()` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è assertion
   - –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ assertion

2. **`_periodically_refresh_tal_hold()`**:
   - –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if process_info.automaticTerminationSupportEnabled()`
   - –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `disableAutomaticTermination_()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è assertion

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ TAL hold —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞, –¥–∞–∂–µ –µ—Å–ª–∏ TAL —É–∂–µ –æ—Ç–∫–ª—é—á–µ–Ω –≤ `main.py`
- ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ assertion –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ Assertion –Ω–µ –∏—Å—Ç–µ–∫–∞–µ—Ç –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ tray icon
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `.app` bundle
2. –î–æ–∂–¥–∞—Ç—å—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:
   - `TAL=hold` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
   - `üîÑ [ANTI_TAL] TAL assertion –æ–±–Ω–æ–≤–ª—ë–Ω` –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ (–µ—Å–ª–∏ tray –Ω–µ –≥–æ—Ç–æ–≤)
   - `TAL=released` –ø–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ tray
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ tray icon

