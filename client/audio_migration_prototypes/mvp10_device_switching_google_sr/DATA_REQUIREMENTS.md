# –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞–Ω–Ω—ã–º –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google SR

## ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ

### 1. –î–ª—è `speech_recognition.Microphone`
```python
sr.Microphone(
    device_index=None,      # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    sample_rate=None,       # –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ PortAudio
    chunk_size=1024         # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
)
```

**–ú–∏–Ω–∏–º—É–º:**
- ‚úÖ `device_index` (PortAudio index) - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**

**–í–∞–∂–Ω–æ:**
- ‚úÖ `sample_rate` **–ù–ï –ù–£–ñ–ù–û —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å** - `Microphone` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç `default_samplerate` –∏–∑ PortAudio
- ‚úÖ –ú—ã **–ø–æ–ª—É—á–∞–µ–º** –¥–∞–Ω–Ω—ã–µ –∏–∑ PortAudio, –∞ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Ö
- ‚úÖ –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é —á–∞—Å—Ç–æ—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 16kHz –¥–ª—è Google SR), –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —è–≤–Ω–æ

### 2. –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ MVP-10

```python
device_data = {
    # –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    "uid": str,                    # AVFoundation UID (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è)
    "name": str,                   # –ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–¥–ª—è –ª–æ–≥–æ–≤)
    "normalized_name": str,        # –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è (–¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞)
    
    # –ú–∞–ø–ø–∏–Ω–≥
    "device_index": int,           # PortAudio index (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
    "confidence": str,             # HIGH/MEDIUM/LOW/NONE (–¥–ª—è fallback)
    
    # –ê—É–¥–∏–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    "sample_rate": int,            # –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
    "max_input_channels": int,     # –ú–∞–∫—Å–∏–º—É–º –∫–∞–Ω–∞–ª–æ–≤ (–¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
    
    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    "transport": str,              # bluetooth/usb/built_in/unknown
    "channels": int,               # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤ (–∏–∑ AVFoundation)
    "portaudio_name": str          # –ò–º—è –≤ PortAudio (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
}
```

## ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### –î–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:
- ‚úÖ **–î–û–°–¢–ê–¢–û–ß–ù–û**: `device_index` + `sample_rate`
- ‚úÖ –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å `sr.Microphone(device_index=X, sample_rate=Y)`
- ‚úÖ Google SR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–µ

### –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- ‚úÖ **–ü–û–õ–ï–ó–ù–û**: `max_input_channels` - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º
- ‚úÖ **–ü–û–õ–ï–ó–ù–û**: `confidence` - –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ fallback
- ‚úÖ **–ü–û–õ–ï–ó–ù–û**: `transport` - –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ (BT –º–µ–¥–ª–µ–Ω–Ω–µ–µ)

## ‚ö†Ô∏è –ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### 1. –î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º:
```python
# –ï—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è:
"portaudio_name": str,        # –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å AVFoundation –∏–º–µ–Ω–µ–º
"device_info": dict,          # –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ PortAudio
```

### 2. –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```python
# –î–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
"latency_low": float,         # –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–¥–ª—è –ø—Ä–æ–≤–æ–¥–Ω—ã—Ö)
"latency_high": float,        # –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–¥–ª—è BT)
"default_samplerate": float,  # –°–∏—Å—Ç–µ–º–Ω—ã–π default (–µ—Å–ª–∏ device –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π)
```

### 3. –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫:
```python
# –ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ:
"fallback_device_index": int, # –†–µ–∑–µ—Ä–≤–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
"is_available": bool,          # –î–æ—Å—Ç—É–ø–Ω–æ –ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–µ–π—á–∞—Å
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: —á—Ç–æ –Ω—É–∂–Ω–æ vs —á—Ç–æ –µ—Å—Ç—å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ù—É–∂–Ω–æ –¥–ª—è | –ï—Å—Ç—å –≤ MVP-10 | –°—Ç–∞—Ç—É—Å |
|----------|-----------|---------------|--------|
| `device_index` | `sr.Microphone` | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |
| `sample_rate` | –ö–∞—á–µ—Å—Ç–≤–æ –∞—É–¥–∏–æ | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |
| `max_input_channels` | –í–∞–ª–∏–¥–∞—Ü–∏—è | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |
| `uid` | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |
| `name` | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |
| `confidence` | Fallback –ª–æ–≥–∏–∫–∞ | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |
| `transport` | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |
| `portaudio_name` | –û—Ç–ª–∞–¥–∫–∞ | ‚úÖ | **–î–û–°–¢–ê–¢–û–ß–ù–û** |

## ‚úÖ –í—ã–≤–æ–¥: –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã

**–î–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google SR –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:**
1. ‚úÖ `device_index` - –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
2. ‚úÖ **–ù–ï –ù–£–ñ–ù–û —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å `sample_rate`** - `Microphone` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç `default_samplerate` –∏–∑ PortAudio

**–í–∞–∂–Ω–æ:**
- ‚úÖ –ú—ã **–ø–æ–ª—É—á–∞–µ–º** –¥–∞–Ω–Ω—ã–µ –∏–∑ PortAudio (`sd.query_devices()`), –∞ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Ö
- ‚úÖ `Microphone` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `default_samplerate` —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é —á–∞—Å—Ç–æ—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 16kHz –¥–ª—è Google SR), –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —è–≤–Ω–æ

**–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- ‚úÖ –ü–æ–ª–µ–∑–Ω—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –£–ª—É—á—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ü–æ–º–æ–≥–∞—é—Ç –≤ edge cases

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¢–µ–∫—É—â–∏–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö **–î–û–°–¢–ê–¢–û–ß–ï–ù** –¥–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ú—ã –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ PortAudio, –∞ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Ö –≤—Ä—É—á–Ω—É—é.

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ

```python
# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:
if device_data.get('device_index') is not None:
    # –ë–∞–∑–æ–≤–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
    microphone = sr.Microphone(device_index=device_data['device_index'])
    
    # –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:
    if device_data.get('sample_rate'):
        microphone = sr.Microphone(
            device_index=device_data['device_index'],
            sample_rate=device_data['sample_rate']
        )
```

## üìù –ò—Ç–æ–≥

**–û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å "–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–∞–Ω–Ω—ã—Ö?":**

‚úÖ **–î–ê, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:**
- `device_index` + `sample_rate` = –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

‚úÖ **–î–ê, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ª—É—á—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ

‚úÖ **–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- `latency` –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `fallback_device_index` –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- `is_available` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

**–¢–µ–∫—É—â–∏–π MVP-10 –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã!**

