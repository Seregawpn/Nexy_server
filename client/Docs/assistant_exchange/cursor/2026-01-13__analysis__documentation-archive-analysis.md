# Анализ документации: актуальные документы в архиве

**Дата:** 2026-01-13  
**Тип:** analysis  
**Автор:** Cursor Assistant

---

## Проблема

Множество актуальных документов находится в `_Docs_ARCHIVED/`, хотя они активно используются в правилах разработки (`.cursorrules`, `AGENTS.md`) как источники истины. Это создаёт путаницу и несоответствие между названием директории ("архив") и фактическим использованием документов.

---

## Анализ использования документов

### Документы из `_Docs_ARCHIVED/`, активно используемые в правилах

| Документ | Использование в правилах | Статус | Рекомендация |
|----------|-------------------------|--------|--------------|
| `STATE_CATALOG.md` | `.cursorrules` §1.1, §1.1.1, §11, §18.1 | ✅ **Источник истины** | Переместить в `Docs/` |
| `ARCHITECTURE_OVERVIEW.md` | `.cursorrules` §1.0, `AGENTS.md` §Контекст клиента | ✅ **Источник истины** | Переместить в `Docs/` |
| `PROJECT_REQUIREMENTS.md` | `.cursorrules` §1.0, §11.3, §11.4, §11.5 | ✅ **Источник истины** | Переместить в `Docs/` |
| `REQUIREMENTS_SOURCE_MAP.md` | `.cursorrules` §1.0, §11.3 | ✅ **Источник истины** | Переместить в `Docs/` |
| `PRODUCT_CONCEPT.md` | `.cursorrules` §1.0 | ✅ **Источник истины** | Переместить в `Docs/` |
| `CURRENT_STATUS_REPORT.md` | `.cursorrules` §1.0, §10, §11 | ✅ **Актуальный отчёт** | Переместить в `Docs/` |
| `first_run_flow_spec.md` | `.cursorrules` §1.1, §8.1, §10.1 | ✅ **Источник истины** | **Дубликат!** Есть в `Docs/` и `_Docs_ARCHIVED/` |
| `GLOBAL_DELIVERY_PLAN.md` | `.cursorrules` §1.0, §11.2 | ✅ **Актуальный план** | Переместить в `Docs/` |
| `TAL_TESTING_CHECKLIST.md` | `.cursorrules` §1.1 | ✅ **Актуальный чек-лист** | Переместить в `Docs/` |
| `DOCUMENTATION_MAP.md` | `Docs/README.md` | ✅ **Навигатор** | Переместить в `Docs/` |

### Документы с дублированием

| Документ | Расположение | Статус | Рекомендация |
|----------|-------------|--------|--------------|
| `first_run_flow_spec.md` | `Docs/` + `_Docs_ARCHIVED/` | ⚠️ **Дубликат** | Оставить в `Docs/`, удалить из `_Docs_ARCHIVED/` |
| `PACKAGING_FINAL_GUIDE.md` | `Docs/` + `_Docs_ARCHIVED/` | ⚠️ **Дубликат** | Оставить в `Docs/`, удалить из `_Docs_ARCHIVED/` |
| `FEATURE_FLAGS.md` | `Docs/` + `_Docs_ARCHIVED/` | ⚠️ **Дубликат** | Оставить в `Docs/`, удалить из `_Docs_ARCHIVED/` |

### Документы, которые действительно должны быть в архиве

| Документ | Причина архивации | Статус |
|----------|-------------------|--------|
| `README.md` (в архиве) | Устаревший README архива | ✅ Оставить в архиве |
| `assistant_exchange/` (в архиве) | Исторические документы обмена | ✅ Оставить в архиве |
| `_archive/` (поддиректория) | Разовые отчёты и устаревшие документы | ✅ Оставить в архиве |
| `ADRs/` | Архитектурные решения (исторические) | ✅ Оставить в архиве |
| `templates/` | Шаблоны (могут быть актуальными) | ⚠️ Проверить актуальность |

---

## Рекомендации по реорганизации

### Вариант 1: Переместить актуальные документы в `Docs/` (рекомендуется)

**Преимущества:**
- ✅ Соответствие между названием директории и содержимым
- ✅ Упрощение навигации (все актуальные документы в одном месте)
- ✅ Устранение путаницы для новых разработчиков

**Действия:**
1. Переместить актуальные документы из `_Docs_ARCHIVED/` в `Docs/`:
   - `STATE_CATALOG.md`
   - `ARCHITECTURE_OVERVIEW.md`
   - `PROJECT_REQUIREMENTS.md`
   - `REQUIREMENTS_SOURCE_MAP.md`
   - `PRODUCT_CONCEPT.md`
   - `CURRENT_STATUS_REPORT.md`
   - `GLOBAL_DELIVERY_PLAN.md`
   - `TAL_TESTING_CHECKLIST.md`
   - `DOCUMENTATION_MAP.md`

2. Удалить дубликаты из `_Docs_ARCHIVED/`:
   - `first_run_flow_spec.md` (оставить в `Docs/`)
   - `PACKAGING_FINAL_GUIDE.md` (оставить в `Docs/`)
   - `FEATURE_FLAGS.md` (оставить в `Docs/`)

3. Обновить ссылки в правилах:
   - `.cursorrules` — все ссылки на `_Docs_ARCHIVED/` → `Docs/`
   - `AGENTS.md` — обновить ссылки
   - `Docs/README.md` — обновить индекс

**Риски:** Низкий (только обновление ссылок)

### Вариант 2: Переименовать `_Docs_ARCHIVED/` в `Docs/Reference/`

**Преимущества:**
- ✅ Меньше изменений в правилах
- ✅ Сохранение структуры

**Недостатки:**
- ⚠️ Всё ещё путаница (документы не в "архиве", но в "reference")
- ⚠️ Не решает проблему дублирования

**Риски:** Средний (требует обновления всех ссылок)

### Вариант 3: Оставить как есть, но обновить документацию

**Преимущества:**
- ✅ Минимум изменений

**Недостатки:**
- ⚠️ Путаница сохраняется
- ⚠️ Не решает проблему дублирования

**Риски:** Низкий, но не решает проблему

---

## План действий (рекомендуется Вариант 1)

### Этап 1: Подготовка
- [ ] Создать бэкап текущей структуры
- [ ] Проверить все ссылки на документы в коде и правилах
- [ ] Составить полный список файлов для перемещения

### Этап 2: Перемещение документов
- [ ] Переместить актуальные документы из `_Docs_ARCHIVED/` в `Docs/`
- [ ] Удалить дубликаты из `_Docs_ARCHIVED/`
- [ ] Проверить целостность перемещённых документов

### Этап 3: Обновление ссылок
- [ ] Обновить `.cursorrules` (все ссылки на `_Docs_ARCHIVED/` → `Docs/`)
- [ ] Обновить `AGENTS.md`
- [ ] Обновить `Docs/README.md`
- [ ] Проверить другие документы на ссылки

### Этап 4: Валидация
- [ ] Запустить поиск всех ссылок на `_Docs_ARCHIVED/` в проекте
- [ ] Проверить, что все ссылки обновлены
- [ ] Обновить `DOCUMENTATION_MAP.md` (если перемещён)

### Этап 5: Документирование
- [ ] Обновить `Docs/README.md` с новой структурой
- [ ] Добавить примечание в `_Docs_ARCHIVED/README.md` о перемещении документов

---

## Итоговый список актуальных документов для перемещения

### Критичные (источники истины)
1. ✅ `STATE_CATALOG.md` — единый источник истины для осей состояния
2. ✅ `ARCHITECTURE_OVERVIEW.md` — обзор архитектуры
3. ✅ `PROJECT_REQUIREMENTS.md` — единый snapshot требований
4. ✅ `REQUIREMENTS_SOURCE_MAP.md` — карта источников требований
5. ✅ `PRODUCT_CONCEPT.md` — концепция продукта

### Актуальные отчёты и планы
6. ✅ `CURRENT_STATUS_REPORT.md` — текущий статус релизов
7. ✅ `GLOBAL_DELIVERY_PLAN.md` — план доставки
8. ✅ `TAL_TESTING_CHECKLIST.md` — чек-лист тестирования

### Навигация
9. ✅ `DOCUMENTATION_MAP.md` — карта документации

### Дубликаты для удаления из архива
- ❌ `first_run_flow_spec.md` (есть в `Docs/`)
- ❌ `PACKAGING_FINAL_GUIDE.md` (есть в `Docs/`)
- ❌ `FEATURE_FLAGS.md` (есть в `Docs/`)

---

## Выводы

1. **Проблема подтверждена**: 9 актуальных документов находятся в "архиве", хотя являются источниками истины
2. **Дублирование**: 3 документа дублируются между `Docs/` и `_Docs_ARCHIVED/`
3. **Рекомендация**: Переместить актуальные документы в `Docs/` и обновить все ссылки в правилах

**Приоритет:** Средний (не блокирует работу, но создаёт путаницу)  
**Сложность:** Низкая (перемещение файлов + обновление ссылок)  
**Время:** 2-3 часа (включая валидацию)

---

**Следующие шаги:**
1. Согласовать план с Tech Lead
2. Выполнить перемещение документов
3. Обновить все ссылки
4. Валидировать изменения
