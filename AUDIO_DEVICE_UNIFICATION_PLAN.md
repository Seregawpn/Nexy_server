# –ü–õ–ê–ù –£–ù–ò–§–ò–ö–ê–¶–ò–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ê–£–î–ò–û –£–°–¢–†–û–ô–°–¢–í–ê–ú–ò

## üéØ –¶–ï–õ–¨
–û–±—ä–µ–¥–∏–Ω–∏—Ç—å INPUT –∏ OUTPUT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≥–¥–µ –æ–¥–Ω–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, AirPods) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–µ–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (–º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –¥–∏–Ω–∞–º–∏–∫–∏).

## üìä –¢–ï–ö–£–©–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤**
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –ø—Ä–æ–±–µ–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç `SLEEPING` ‚Üí `PROCESSING` –≤–º–µ—Å—Ç–æ `SLEEPING` ‚Üí `LISTENING`
- –ú–∏–∫—Ä–æ—Ñ–æ–Ω –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
- –í –ª–æ–≥–∞—Ö –Ω–µ—Ç —Å–æ–±—ã—Ç–∏–π `voice.recording_start` –∏–ª–∏ `audio.request_current_input_device`

### 2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å VoiceRecognitionIntegration**
- `VoiceRecognitionIntegration` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `simulate: bool = True` (—Å—Ç—Ä–æ–∫–∞ 33)
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω**
- `SpeechRecognizer` –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

### 3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤**
- iPhone Microphone –≤—Å–µ –µ—â–µ –∏–º–µ–µ—Ç –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (AirPods, Beats) –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è INPUT –∏ OUTPUT

## üöÄ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### **–≠–¢–ê–ü 1: –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–• –ü–†–û–ë–õ–ï–ú**

#### 1.1 –ò—Å–ø—Ä–∞–≤–∏—Ç—å VoiceRecognitionIntegration
**–¶–µ–ª—å:** –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞

**–ó–∞–¥–∞—á–∏:**
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å `simulate: bool = False` –≤ `VoiceRecognitionIntegration`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç `SpeechRecognizer` –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `_REAL_VOICE_AVAILABLE = True`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `SpeechRecognizer` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ

#### 1.2 –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤
**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ `SLEEPING` ‚Üí `LISTENING`

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `InputProcessingIntegration` –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `LONG_PRESS` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å–æ–±—ã—Ç–∏—è `voice.recording_start`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É `mode.request` –¥–ª—è `LISTENING`

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –ù–∞–∂–∞—Ç—å –∏ –¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–±–µ–ª >1 —Å–µ–∫—É–Ω–¥—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º `LISTENING`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

### **–≠–¢–ê–ü 2: –£–ù–ò–§–ò–ö–ê–¶–ò–Ø –£–ü–†–ê–í–õ–ï–ù–ò–Ø –£–°–¢–†–û–ô–°–¢–í–ê–ú–ò**

#### 2.1 –°–æ–∑–¥–∞—Ç—å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤ AudioDeviceManager
**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è INPUT –∏ OUTPUT

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_unified_audio_device()` –≤ `AudioDeviceManager`
- [ ] –õ–æ–≥–∏–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–µ–µ OUTPUT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –æ–Ω–æ INPUT
- [ ] –ï—Å–ª–∏ –¥–∞ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±–µ–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, –µ—Å–ª–∏ –Ω–µ—Ç - –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–µ–µ INPUT –æ—Ç–¥–µ–ª—å–Ω–æ

**–ö–æ–¥:**
```python
async def get_unified_audio_device(self) -> Dict[str, Optional[AudioDevice]]:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
    –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: OUTPUT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ INPUT.
    """
    # 1. –ü–æ–ª—É—á–∞–µ–º –ª—É—á—à–µ–µ OUTPUT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    best_output = await self.get_best_output_device()
    
    # 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –æ–Ω–æ INPUT
    if best_output and best_output.type == DeviceType.BOTH:
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –æ–±–µ–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
        return {
            "input": best_output,
            "output": best_output,
            "unified": True
        }
    
    # 3. –ï—Å–ª–∏ –Ω–µ—Ç - –≤—ã–±–∏—Ä–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ
    best_input = await self.get_best_input_device()
    return {
        "input": best_input,
        "output": best_output,
        "unified": False
    }
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å AirPods (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã)

#### 2.2 –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤
**–¶–µ–ª—å:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `_get_input_priority()` –∏ `_get_output_priority()` –≤ `AudioDeviceManager`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã: AirPods (1), Beats (2), Bluetooth (3), MacBook (7), iPhone (10)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `unified_config.yaml` —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ AirPods –ø–æ–ª—É—á–∞—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ iPhone Microphone –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 10

### **–≠–¢–ê–ü 3: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –£–ù–ò–§–ò–¶–ò–†–û–í–ê–ù–ù–û–ì–û –£–ü–†–ê–í–õ–ï–ù–ò–Ø**

#### 3.1 –û–±–Ω–æ–≤–∏—Ç—å AudioDeviceIntegration
**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ `audio.request_unified_device`
- [ ] –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `_on_request_unified_device()`
- [ ] –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è `audio.unified_device_selected` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

#### 3.2 –û–±–Ω–æ–≤–∏—Ç—å VoiceRecognitionIntegration
**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞

**–ó–∞–¥–∞—á–∏:**
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å `audio.request_current_input_device` –Ω–∞ `audio.request_unified_device`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏—è `audio.unified_device_selected`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± INPUT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏–∑ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ AirPods –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞, –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã

### **–≠–¢–ê–ü 4: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –û–¢–õ–ê–î–ö–ê**

#### 4.1 –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
**–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `test_unified_audio.py` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å AirPods, Beats, MacBook, iPhone
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –≤—ã–±–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤

#### 4.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

**–ó–∞–¥–∞—á–∏:**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤: `SLEEPING` ‚Üí `LISTENING` ‚Üí `PROCESSING`
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–∞—Ü–∏—é –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –ø—Ä–æ–±–µ–ª–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

## üìã –ß–ï–ö–õ–ò–°–¢ –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- [ ] **VoiceRecognitionIntegration.simulate = False**
- [ ] **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤ (SLEEPING ‚Üí LISTENING)**
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É LONG_PRESS –≤ InputProcessingIntegration**

### –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- [ ] **–î–æ–±–∞–≤–∏—Ç—å get_unified_audio_device() –≤ AudioDeviceManager**
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (AirPods=1, iPhone=10)**
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å AudioDeviceIntegration –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å VoiceRecognitionIntegration –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [ ] **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤**
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å AirPods (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã)**
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å MacBook (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã)**
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞**

## üîç –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ò –û–¢–õ–ê–î–ö–ê

### –ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- [ ] **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è VoiceRecognitionIntegration (simulate mode)**
- [ ] **–ü–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤ (SLEEPING ‚Üí LISTENING ‚Üí PROCESSING)**
- [ ] **–í—ã–±–æ—Ä —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**
- [ ] **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ –≤—ã–±–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ**

### –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤:
```
üîç [AUDIO_DEBUG] - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚úÖ [AUDIO_SUCCESS] - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚ùå [AUDIO_ERROR] - –æ—à–∏–±–∫–∏
üé§ [VOICE_DEBUG] - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
üîÑ [MODE_DEBUG] - –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤
```

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** –°–Ω–∞—á–∞–ª–∞ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ä–µ–∂–∏–º—ã, VoiceRecognitionIntegration), –∑–∞—Ç–µ–º –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ù–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ª–æ–º–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞:
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º `LISTENING` –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –ø—Ä–æ–±–µ–ª–∞
- ‚úÖ –ú–∏–∫—Ä–æ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- ‚úÖ AirPods –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±–µ–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (–º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –¥–∏–Ω–∞–º–∏–∫–∏)
- ‚úÖ iPhone Microphone –∏–º–µ–µ—Ç –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –ï–¥–∏–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è INPUT –∏ OUTPUT, –∫–æ–≥–¥–∞ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ
