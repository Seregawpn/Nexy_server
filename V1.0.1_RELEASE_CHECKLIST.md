# ‚úÖ Nexy v1.0.1 Release Checklist

**–î–∞—Ç–∞:** 2025-10-11  
**–¢–∏–ø:** Critical Bug Fix  
**–°—Ç–∞—Ç—É—Å:** üü° AWAITING PRODUCTION BUILD

---

## üìä **–¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|--------|--------|--------|
| –ü—Ä–æ–±–ª–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ | ‚úÖ | AppHelper.callAfter –≤ tray-only app |
| –†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | ‚úÖ | –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –≤ permissions_integration.py |
| Dev-—Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ | ‚úÖ | packaging/dist/Nexy.app —Ä–∞–±–æ—Ç–∞–µ—Ç |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ | ‚úÖ | 3 MD —Ñ–∞–π–ª–∞ –≥–æ—Ç–æ–≤—ã |
| **Production —Å–±–æ—Ä–∫–∞** | ‚è≥ | **–¢–†–ï–ë–£–ï–¢–°–Ø –ó–ê–ü–£–°–ö** |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚è≥ | –ü–æ—Å–ª–µ production —Å–±–æ—Ä–∫–∏ |
| Git commit & tag | ‚è≥ | –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ |
| –†–µ–ª–∏–∑ | ‚è≥ | –ü–æ—Å–ª–µ commit |

---

## üéØ **–°–õ–ï–î–£–Æ–©–ò–ï –î–ï–ô–°–¢–í–ò–Ø**

### 1Ô∏è‚É£ **PRODUCTION –°–ë–û–†–ö–ê** (~20 –º–∏–Ω—É—Ç)

**–í Terminal.app –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**
```bash
cd /Users/sergiyzasorin/Development/Nexy/client
./rebuild_from_scratch.sh
```

**–ß—Ç–æ –±—É–¥–µ—Ç:**
- –û—á–∏—Å—Ç–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Üí [PAUSE - Enter]
- –°–±–æ—Ä–∫–∞ PyInstaller (~7 –º–∏–Ω) ‚Üí [PAUSE - Enter]  
- –ü–æ–¥–ø–∏—Å—å + Notarization (~10 –º–∏–Ω) ‚Üí [PAUSE - Enter]
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ `dist/Nexy.pkg` (–ø–æ–¥–ø–∏—Å–∞–Ω + notarized)
- ‚úÖ `dist/Nexy.dmg` (–ø–æ–¥–ø–∏—Å–∞–Ω + notarized)

---

### 2Ô∏è‚É£ **–£–°–¢–ê–ù–û–í–ö–ê –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï** (~5 –º–∏–Ω—É—Ç)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo installer -pkg dist/Nexy.pkg -target /

# –°–±—Ä–æ—Å TCC
sudo tccutil reset All com.nexy.assistant

# –ó–∞–ø—É—Å–∫ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
/Applications/Nexy.app/Contents/MacOS/Nexy
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. ‚úÖ `"üîî –°—Ç–∞—Ä—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∞–≤..."`
2. ‚úÖ –ß–µ—Ä–µ–∑ 1-2 —Å–µ–∫: `"üé§ Microphone: granted"` (–ù–ï –∑–∞–≤–∏—Å–∞–Ω–∏–µ!)
3. ‚úÖ **–î–ò–ê–õ–û–ì MICROPHONE** –ø–æ—è–≤–ª—è–µ—Ç—Å—è ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
4. ‚úÖ `"‚ôø –ü—Ä–æ–≤–µ—Ä–∫–∞ Accessibility..."`
5. ‚úÖ **–î–ò–ê–õ–û–ì ACCESSIBILITY** –ø–æ—è–≤–ª—è–µ—Ç—Å—è ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
6. ‚úÖ `"‚å®Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ Input Monitoring..."`
7. ‚úÖ **–î–ò–ê–õ–û–ì INPUT MONITORING** –ø–æ—è–≤–ª—è–µ—Ç—Å—è ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
8. ‚úÖ `"‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –≤—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã"`

**–ù–∞–∂–º–∏—Ç–µ Ctrl+C –ø–æ—Å–ª–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**

---

### 3Ô∏è‚É£ **–ü–†–û–í–ï–†–ö–ê –†–ê–ó–†–ï–®–ï–ù–ò–ô**

```bash
./check_permissions.sh
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
üé§ Microphone           ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û (GRANTED)
‚å®Ô∏è  Input Monitoring   ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û (GRANTED)
‚ôø Accessibility         ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û (GRANTED)

üìä –ò–¢–û–ì–û:
   ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ: 3
   ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ: 0
```

---

### 4Ô∏è‚É£ **SMOKE TEST**

```bash
./full_permissions_test.sh
```

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ –ë–ï–ó –¥–∏–∞–ª–æ–≥–æ–≤
- ‚úÖ Push-to-talk (–ø—Ä–æ–±–µ–ª) —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ

---

### 5Ô∏è‚É£ **GIT COMMIT & TAG**

```bash
cd /Users/sergiyzasorin/Development/Nexy/client

# Stage –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add integration/integrations/permissions_integration.py
git add PERMISSION_DIALOG_FIX.md
git add FINAL_BUILD_INSTRUCTIONS.md
git add RELEASE_NOTES_v1.0.1.md
git add V1.0.1_RELEASE_CHECKLIST.md

# Commit
git commit -m "fix: Remove AppHelper.callAfter for tray-only app compatibility

CRITICAL FIX: Permission dialogs were not appearing on first launch
due to AppHelper.callAfter() requiring GUI runloop which is not
available in tray-only applications.

Changes:
- Removed AppHelper.callAfter() dependency
- Direct invocation of requestAccessForMediaType_completionHandler_
- Thread-safe result passing via loop.call_soon_threadsafe()
- Added 30-second timeout protection
- Enhanced error handling

Fixes: Permission dialogs now appear correctly
Impact: All v1.0.0 users affected (blocking issue)
Priority: CRITICAL"

# Create tag
git tag -a v1.0.1 -m "Release v1.0.1 - Critical permission dialog fix

Fixed:
- Permission dialogs not appearing on first launch
- Application hanging indefinitely
- TCC not registering permissions

This is a critical fix - all v1.0.0 users must upgrade."

# Push
git push origin main
git push origin v1.0.1
```

---

### 6Ô∏è‚É£ **–°–û–ó–î–ê–ù–ò–ï –†–ï–õ–ò–ó–ê**

**GitHub Release (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):**
1. Go to: https://github.com/YOUR_ORG/nexy/releases/new
2. Tag: `v1.0.1`
3. Title: `Nexy v1.0.1 - Critical Permission Fix`
4. Description: –ö–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ `RELEASE_NOTES_v1.0.1.md`
5. Attach files:
   - `dist/Nexy.pkg`
   - `dist/Nexy.dmg`
   - `RELEASE_NOTES_v1.0.1.md`
6. Mark as: üî¥ **Critical Fix**
7. Publish

**Sparkle Appcast (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):**
```xml
<item>
    <title>Nexy 1.0.1 - Critical Fix</title>
    <sparkle:version>1.0.1</sparkle:version>
    <sparkle:releaseNotesLink>
        https://yoursite.com/releases/v1.0.1-notes.html
    </sparkle:releaseNotesLink>
    <pubDate>Fri, 11 Oct 2025 00:00:00 +0000</pubDate>
    <enclosure
        url="https://yoursite.com/releases/Nexy-1.0.1.pkg"
        sparkle:edSignature="YOUR_SIGNATURE"
        length="120000000"
        type="application/octet-stream" />
    <sparkle:criticalUpdate>
        <sparkle:version>1.0.1</sparkle:version>
    </sparkle:criticalUpdate>
</item>
```

---

### 7Ô∏è‚É£ **–£–í–ï–î–û–ú–õ–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô**

**Email/Slack/Discord:**
```
üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï: Nexy v1.0.1

–î–æ—Ä–æ–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Nexy,

–ú—ã –≤—ã–ø—É—Å—Ç–∏–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ v1.0.1, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç
—Å–µ—Ä—å—ë–∑–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É —Å –∑–∞–ø—Ä–æ—Å–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.

–ü–†–û–ë–õ–ï–ú–ê –í v1.0.0:
‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–ª–æ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
‚ùå –î–∏–∞–ª–æ–≥–∏ Microphone/Accessibility/Input Monitoring –Ω–µ –ø–æ—è–≤–ª—è–ª–∏—Å—å
‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –Ω–∞–≤—Å–µ–≥–¥–∞

–ò–°–ü–†–ê–í–õ–ï–ù–û –í v1.0.1:
‚úÖ –í—Å–µ –¥–∏–∞–ª–æ–≥–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–æ—è–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–¥–∞—á–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

–°–†–û–ß–ù–û–°–¢–¨: –í–´–°–û–ö–ê–Ø
–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ v1.0.0 –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –ù–ï–ú–ï–î–õ–ï–ù–ù–û!

–ö–ê–ö –û–ë–ù–û–í–ò–¢–¨:
1. –°–∫–∞—á–∞–π—Ç–µ Nexy-v1.0.1.pkg
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
4. –ì–æ—Ç–æ–≤–æ!

–°–∫–∞—á–∞—Ç—å: [LINK]
Release Notes: [LINK]

–ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞.

–° —É–≤–∞–∂–µ–Ω–∏–µ–º,
–ö–æ–º–∞–Ω–¥–∞ Nexy
```

---

## üìã **–§–ò–ù–ê–õ–¨–ù–´–ô CHECKLIST**

### Pre-release:
- [x] –ü—Ä–æ–±–ª–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞
- [x] –†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] Dev-—Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] **Production —Å–±–æ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞** ‚¨ÖÔ∏è –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì
- [ ] PKG –ø–æ–¥–ø–∏—Å–∞–Ω –∏ notarized
- [ ] PKG —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –º–∞—à–∏–Ω–µ
- [ ] TCC —Å–±—Ä–æ—à–µ–Ω
- [ ] –í—Å–µ 3 –¥–∏–∞–ª–æ–≥–∞ –ø–æ—è–≤–∏–ª–∏—Å—å
- [ ] –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã (3x ‚úÖ)
- [ ] Smoke test –ø—Ä–æ–π–¥–µ–Ω
- [ ] –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ –ë–ï–ó –¥–∏–∞–ª–æ–≥–æ–≤
- [ ] Push-to-talk —Ä–∞–±–æ—Ç–∞–µ—Ç

### Release:
- [ ] Git commit —Å–æ–∑–¥–∞–Ω
- [ ] Git tag v1.0.1 —Å–æ–∑–¥–∞–Ω
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è pushed
- [ ] GitHub Release —Å–æ–∑–¥–∞–Ω
- [ ] Sparkle appcast –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω—ã
- [ ] Documentation —Å–∞–π—Ç –æ–±–Ω–æ–≤–ª—ë–Ω

---

## üÜò **–ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö**

### –°–±–æ—Ä–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å:
```bash
# –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
cat rebuild_logs/rebuild_*.log | tail -200
cat rebuild_logs/build_*.log | tail -200
```

### Notarization –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞:
```bash
# –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç—á—ë—Ç
grep "Submission ID" rebuild_logs/build_*.log
xcrun notarytool log <ID> --keychain-profile NexyNotary notarization_log.json
cat notarization_log.json | jq '.issues'
```

### –î–∏–∞–ª–æ–≥–∏ –≤—Å—ë –µ—â—ë –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é
defaults read /Applications/Nexy.app/Contents/Info.plist CFBundleVersion
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 1.0.1

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ TCC
sqlite3 ~/Library/Application\ Support/com.apple.TCC/TCC.db \
  "SELECT * FROM access WHERE client='com.nexy.assistant';"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
sudo rm -rf /Applications/Nexy.app
sudo rm -rf ~/Library/Application\ Support/Nexy
sudo tccutil reset All com.nexy.assistant
/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo installer -pkg dist/Nexy.pkg -target /
```

---

## üìû **–ö–û–ù–¢–ê–ö–¢–´ –î–õ–Ø –í–û–ü–†–û–°–û–í**

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** AI Assistant  
**–î–∞—Ç–∞:** 2025-10-11  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

## üéØ **–í–ê–ñ–ù–û**

–≠—Ç–æ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. v1.0.0 **–ù–ï –†–ê–ë–û–¢–ê–ï–¢** –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ v1.0.0 –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ v1.0.1 –ù–ï–ú–ï–î–õ–ï–ù–ù–û!**

---

**üöÄ –ì–æ—Ç–æ–≤–æ –∫ production —Å–±–æ—Ä–∫–µ! –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `./rebuild_from_scratch.sh`**

