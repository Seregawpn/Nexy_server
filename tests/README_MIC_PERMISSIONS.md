# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É –Ω–∞ macOS

## –ü—Ä–æ–±–ª–µ–º–∞

MacBook Air Microphone –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–≤—É–∫ (–≤—Å–µ —Å—ç–º–ø–ª—ã = 0), —Ö–æ—Ç—è:
- ‚úÖ PyAudio —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ú–∏–∫—Ä–æ—Ñ–æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π
- ‚úÖ –ê—É–¥–∏–æ–ø–æ—Ç–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚ùå **–ù–û: RMS = 0, –Ω–µ—Ç —Å–∏–≥–Ω–∞–ª–∞**

–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π macOS!

## –ü–æ—á–µ–º—É AirPods —Ä–∞–±–æ—Ç–∞—é—Ç, –∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω - –Ω–µ—Ç?

**–í–ê–ñ–ù–û–ï –û–¢–ö–†–´–¢–ò–ï:** AirPods/Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É, –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π!

### –ü—Ä–∏—á–∏–Ω–∞: –†–∞–∑–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ macOS

macOS –ø—Ä–∏–º–µ–Ω—è–µ—Ç **—Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | MacBook Air Microphone | AirPods/Bluetooth |
|----------|------------------------|-------------------|
| **–¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** | Built-in (Hardware) | External (Bluetooth) |
| **–ö–æ–Ω—Ç—Ä–æ–ª—å TCC** | ‚úÖ –°—Ç—Ä–æ–≥–∏–π | ‚ö™ –ú—è–≥–∫–∏–π –∏–ª–∏ –Ω–µ—Ç |
| **–¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** | ‚úÖ –î–ê | ‚ùå –ù–ï–¢ |
| **–õ–æ–≥–∏–∫–∞ macOS** | "–ú–æ–∂–µ—Ç –ø–æ–¥—Å–ª—É—à–∏–≤–∞—Ç—å" | "–Ø–≤–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" |

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω** = –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É–≥—Ä–æ–∑–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
  - –¢—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ TCC
  - Python –±–µ–∑ –ø–æ–¥–ø–∏—Å–∏ Apple –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
  - –ü–æ—Ç–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –¥–∞–Ω–Ω—ã–µ = 0

- **Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** = —è–≤–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ä—É—á–Ω—É—é –ø–æ–¥–∫–ª—é—á–∏–ª —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
  - macOS —Å—á–∏—Ç–∞–µ—Ç —ç—Ç–æ "—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º"
  - –†–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–≠—Ç–æ –§–ò–ß–ê macOS –¥–ª—è –∑–∞—â–∏—Ç—ã –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –±–∞–≥!**

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å AirPods –∏–ª–∏ –¥—Ä—É–≥–∏–µ Bluetooth –Ω–∞—É—à–Ω–∏–∫–∏ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö! –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É, –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.

–î–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ MacBook –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ).

---

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
python3 tests/diagnose_mic_access.py
```

–ò–ª–∏ bash-—Å–∫—Ä–∏–ø—Ç:

```bash
bash tests/fix_mic_permissions.sh
```

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–µ–Ω:**
   ```bash
   system_profiler SPAudioDataType | grep -A 5 "MacBook Air Microphone"
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ Python:**
   ```bash
   which python3
   python3 --version
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ PyAudio:**
   ```bash
   python3 -c "import pyaudio; print('OK')"
   ```

---

## –†–µ—à–µ–Ω–∏–µ

### ü•á **–†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –°–ü–û–°–û–ë: GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–º–µ—é—Ç –±–æ–ª—å—à–µ –ø—Ä–∞–≤ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –≤ macOS.

```bash
python3 tests/mic_permission_app.py
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üé§ –¢–µ—Å—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞"
3. macOS –ø–æ–∫–∞–∂–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ - **–†–ê–ó–†–ï–®–ò–¢–ï!**
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ Homebrew Python —Ç–æ–∂–µ —Å–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω

---

### ü•à **–°–ü–û–°–û–ë 2: –î–æ–±–∞–≤–∏—Ç—å Terminal –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è**

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ Python –∏–∑ Terminal:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ System Preferences** (–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

2. **Security & Privacy** ‚Üí **Privacy** ‚Üí **Microphone**

3. **–ù–∞–∂–º–∏—Ç–µ –∑–∞–º–æ–∫ –≤–Ω–∏–∑—É** (–≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

4. **–ù–∞–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–∫–µ:**
   - `Terminal` –∏–ª–∏ `Terminal.app`
   - –ï—Å–ª–∏ –Ω–µ—Ç - –Ω–∞–∂–º–∏—Ç–µ `+` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
     `/System/Applications/Utilities/Terminal.app`

5. **–ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É** –Ω–∞–ø—Ä–æ—Ç–∏–≤ Terminal

6. **–í–ê–ñ–ù–û: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–π—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Terminal!**
   - –ù–µ –ø—Ä–æ—Å—Ç–æ –Ω–æ–≤–æ–µ –æ–∫–Ω–æ - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Cmd+Q)
   - –ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–Ω–æ–≤–æ

7. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:**
   ```bash
   python3 tests/test_mic_permission.py
   ```

---

### ü•â **–°–ü–û–°–û–ë 3: –î–æ–±–∞–≤–∏—Ç—å VSCode –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è**

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ Python –∏–∑ Visual Studio Code:

1. **System Preferences** ‚Üí **Security & Privacy** ‚Üí **Privacy** ‚Üí **Microphone**

2. **–ù–∞–∂–º–∏—Ç–µ –∑–∞–º–æ–∫** (–≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å)

3. **–ù–∞–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–∫–µ:**
   - `Code` –∏–ª–∏ `Visual Studio Code`
   - –ï—Å–ª–∏ –Ω–µ—Ç - –Ω–∞–∂–º–∏—Ç–µ `+` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
     `/Applications/Visual Studio Code.app`

4. **–ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É**

5. **–í–ê–ñ–ù–û: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–π—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VSCode!**

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç**

---

### üîß **–°–ü–û–°–û–ë 4: –î–æ–±–∞–≤–∏—Ç—å Python –Ω–∞–ø—Ä—è–º—É—é** (—Å–ª–æ–∂–Ω—ã–π)

–ï—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–ø–æ—Å–æ–±—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:

1. **–ù–∞–π–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ Python:**
   ```bash
   python3 -c "import sys; print(sys.executable)"
   ```

   –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
   ```
   /opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/bin/python3.13
   ```

2. **System Preferences** ‚Üí **Security & Privacy** ‚Üí **Privacy** ‚Üí **Microphone**

3. **–ù–∞–∂–º–∏—Ç–µ '+' –∏ –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –ø—É—Ç—å**

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Terminal/VSCode**

‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê:** macOS –º–æ–∂–µ—Ç –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ `/opt/homebrew` –≤ –¥–∏–∞–ª–æ–≥–µ –≤—ã–±–æ—Ä–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–°–ø–æ—Å–æ–± 1) –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ Terminal (–°–ø–æ—Å–æ–± 2).

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:

### –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç

```bash
python3 tests/test_mic_permission.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ú–ò–ö–†–û–§–û–ù –†–ê–ë–û–¢–ê–ï–¢ - –æ–±–Ω–∞—Ä—É–∂–µ–Ω —Å–∏–≥–Ω–∞–ª!
RMS: > 10.0
```

### –¢–µ—Å—Ç —Å GUI

```bash
python3 tests/mic_permission_app.py
```

### –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Ü–µ–ø–æ—á–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

```bash
python3 tests/test_complete_recognition_chain.py
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—Ö–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üé§ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: MacBook Air Microphone
‚úÖ –ü–æ—Ç–æ–∫ –æ—Ç–∫—Ä—ã—Ç!

Chunk 0: RMS = 87.234567  ‚Üê –ù–ï –ù–û–õ–¨!
Chunk 10: RMS = 123.456789
...

‚úÖ –ú–ò–ö–†–û–§–û–ù –†–ê–ë–û–¢–ê–ï–¢!
```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ—Ç–æ–∫ –æ—Ç–∫—Ä—ã—Ç, –Ω–æ RMS = 0"

**–ü—Ä–∏—á–∏–Ω–∞:** –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ System Preferences ‚Üí Microphone
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ
3. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ** Terminal/VSCode

---

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied" –∏–ª–∏ OSError

**–ü—Ä–∏—á–∏–Ω–∞:** –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
1. System Preferences ‚Üí Microphone
2. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ GUI —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ (macOS –ø–æ–ø—Ä–æ—Å–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ)

---

### –ü—Ä–æ–±–ª–µ–º–∞: macOS –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–∂–µ –±—ã–ª–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ —Ä–∞–Ω–µ–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. System Preferences ‚Üí Microphone
2. –í—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤—å—Ç–µ Terminal/VSCode
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–∏–∫—Ä–æ—Ñ–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –æ—á–µ–Ω—å —Ç–∏—Ö–æ

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Ä–æ–≤–µ–Ω—å –≤—Ö–æ–¥–∞:**
1. System Preferences ‚Üí Sound ‚Üí Input
2. –í—ã–±–µ—Ä–∏—Ç–µ "MacBook Air Microphone"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª–∑—É–Ω–æ–∫ "Input volume" –Ω–µ –Ω–∞ –º–∏–Ω–∏–º—É–º–µ
4. –ì–æ–≤–æ—Ä–∏—Ç–µ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω - –¥–æ–ª–∂–Ω–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ–ª–æ—Å–∞ "Input level"

---

## –§–∞–π–ª—ã –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

- `diagnose_mic_access.py` - –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
- `test_mic_permission.py` - –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É
- `test_mic_native_format.py` - –¢–µ—Å—Ç —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ macOS (48kHz)
- `mic_permission_app.py` - **GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π**
- `fix_mic_permissions.sh` - Bash-—Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- `README_MIC_PERMISSIONS.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª

---

## –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

macOS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É TCC (Transparency, Consent, and Control) –¥–ª—è –∑–∞—â–∏—Ç—ã –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏.

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç—Ä–µ–±—É—é—â–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
- Terminal.app
- Visual Studio Code.app
- –õ—é–±–æ–π Python-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä

**–ß—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è:**
- –î–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É
- –ö–∞–º–µ—Ä–∞
- –§–∞–π–ª—ã (Documents, Downloads, Desktop)
- –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ

**–ö–æ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É —Ä–µ—Å—É—Ä—Å—É
- –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–æ–¥–ø–∏—Å—å
- **Python –∏–∑ Homebrew –º–æ–∂–µ—Ç –ù–ï –∏–º–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏!**

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é (Terminal/VSCode)
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞

---

## –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞–ª:

1. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å RMS > 0
2. ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å
3. ‚úÖ `main.py` –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç:**

```bash
python3 tests/test_complete_recognition_chain.py
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ –±–∞–∑—É TCC

```bash
sqlite3 ~/Library/Application\ Support/com.apple.TCC/TCC.db \
  "SELECT service, client, auth_value FROM access WHERE service='kTCCServiceMicrophone';"
```

‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ SIP (System Integrity Protection)

### –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)

```bash
tccutil reset Microphone
```

–≠—Ç–æ **—É–¥–∞–ª–∏—Ç –í–°–ï** —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é macOS: `sw_vers`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python: `python3 --version`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥: `python3 tests/diagnose_mic_access.py`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Console.app (—Ñ–∏–ª—å—Ç—Ä: "TCC" –∏–ª–∏ "microphone")

---

**–£–¥–∞—á–∏! üé§**
