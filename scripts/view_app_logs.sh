#!/bin/bash
# Скрипт для просмотра логов из .app

LOG_FILE="/tmp/nexy_debug.log"

echo "📝 Скрипт для просмотра логов Nexy.app"
echo "Файл логов: $LOG_FILE"
echo ""

if [ ! -f "$LOG_FILE" ]; then
    echo "❌ Лог-файл не найден!"
    echo "Запустите сначала приложение: open /tmp/Nexy-test.app"
    exit 1
fi

echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "ВСЕ ЛОГИ:"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
cat "$LOG_FILE"

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "ТОЛЬКО ДИАГНОСТИКА И ВАЖНЫЕ СООБЩЕНИЯ:"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
grep -E "(NEXY_INIT|ДИАГНОСТИКА|ERROR|Exception|Traceback|icon)" "$LOG_FILE" || echo "Нет совпадений"

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "Для мониторинга в реальном времени используйте:"
echo "  tail -f $LOG_FILE"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
