# üöÄ GLOBAL DELIVERY PLAN ‚Äî Nexy AI Assistant (macOS)

## üìã **–ö–û–ù–°–¢–ê–ù–¢–´ –ü–†–û–ï–ö–¢–ê**
- **Azure VM IP:** `20.151.51.172`
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `https://github.com/Seregawpn/nexy_new.git`
- **–°–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `https://github.com/Seregawpn/Nexy_server.git`
- **VM Name:** `nexy-regular`
- **Resource Group:** `Nexy`

## üéØ –¶–µ–ª—å
–ï–¥–∏–Ω—ã–π –ø–ª–∞–Ω –¥–≤–∏–∂–µ–Ω–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ç–∞ —Å —Ç—Ä–µ–º—è —Ä–µ–∂–∏–º–∞–º–∏ (SLEEPING / LISTENING / PROCESSING), —É–ø–∞–∫–æ–≤–∫–æ–π –≤ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π –∏ –Ω–æ—Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PKG, –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ (Sparkle) –∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–º —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –Ω–∞ Azure (–±–µ–∑ Docker/CI).

- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã: EventBus, —Ç–æ–Ω–∫–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –º–æ–¥—É–ª–µ–π), –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –ª–∏—à—å –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç.
- –†–µ–∂–∏–º—ã: —Ç–æ–ª—å–∫–æ 3 (S/L/P). –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ ‚Äî –ø–æ–¥—ç—Ç–∞–ø –≤–Ω—É—Ç—Ä–∏ PROCESSING.
- –î–∏—Å—Ç—Ä–∏–±—É—Ü–∏—è: —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç ‚Äî –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π/–Ω–æ—Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PKG + `appcast.xml` –Ω–∞ Azure.

---

## üß≠ –û–±–∑–æ—Ä —ç—Ç–∞–ø–æ–≤
1) –≠—Ç–∞–ø 1 ‚Äî –ö–ª–∏–µ–Ω—Ç: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ UX (S/L/P) ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**
2) –≠—Ç–∞–ø 2 ‚Äî **–ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ï + –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**
3) –≠—Ç–∞–ø 3 ‚Äî **–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–ê–Ø –£–ü–ê–ö–û–í–ö–ê + –î–ï–ü–õ–û–ô** üöÄ **–í –ü–†–û–¶–ï–°–°–ï**
   - 3.1 –î–µ–ø–ª–æ–π —Å–µ—Ä–≤–µ—Ä–∞ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**
   - 3.2 –£–ø–∞–∫–æ–≤–∫–∞ PKG/DMG ‚è≥ **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£**
4) –≠—Ç–∞–ø 4 ‚Äî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π üß™ **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£**

### **‚úÖ –ó–ê–í–ï–†–®–ï–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–´:**
- **–ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ï:** gRPC —Å–µ—Ä–≤–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ú–û–î–£–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê:** gRPC —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥—É–ª–µ–π
- **–ú–û–ù–ò–¢–û–†–ò–ù–ì:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:** –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨:** –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π
- **AZURE VM:** –°–µ—Ä–≤–µ—Ä —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Azure VM
- **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –î–ï–ü–õ–û–ô:** GitHub Actions + —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### **üöÄ –°–õ–ï–î–£–Æ–©–ò–ô –ü–û–î–•–û–î: –ü–ê–†–ê–õ–õ–ï–õ–ò–ó–ê–¶–ò–Ø –° –¶–ò–ö–õ–ò–ß–ù–´–ú –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï–ú**
- **–ü–û–¢–û–ö 1:** –£–ø–∞–∫–æ–≤–∫–∞ PKG/DMG (2-3 —á–∞—Å–∞) - –ø–æ–¥–ø–∏—Å—å + –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è ‚è≥ **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£**
- **–ü–û–¢–û–ö 2:** –î–µ–ø–ª–æ–π —Å–µ—Ä–≤–µ—Ä–∞ (1-2 —á–∞—Å–∞) - Azure VM + gRPC + AppCast ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**
- **–ü–û–¢–û–ö 3:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (30 –º–∏–Ω) - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ üß™ **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£**
- **–≠–ö–û–ù–û–ú–ò–Ø –í–†–ï–ú–ï–ù–ò:** 1-2 —á–∞—Å–∞ (–≤–º–µ—Å—Ç–æ 4-5 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ)

### **üß™ –°–ò–°–¢–ï–ú–ê –¶–ò–ö–õ–ò–ß–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:**
–ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –≤–∫–ª—é—á–∞–µ—Ç **–¢–ï–°–¢ ‚Üí –í–ê–õ–ò–î–ê–¶–ò–Ø ‚Üí –ü–ï–†–ï–•–û–î**:
- **–¢–ï–°–¢:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ —Ç–µ—Å—Ç–æ–≤
- **–í–ê–õ–ò–î–ê–¶–ò–Ø:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —É—Å–ø–µ—Ö–∞
- **–ü–ï–†–ï–•–û–î:** –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
- **–¶–ò–ö–õ:** –í–æ–∑–≤—Ä–∞—Ç –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ

**üìã –ü–†–ê–í–ò–õ–û:** –ù–ï –ü–ï–†–ï–•–û–î–ò–ú –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É –±–µ–∑ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞

–ö–∞–∂–¥—ã–π —ç—Ç–∞–ø —Ä–∞–∑–±–∏—Ç –Ω–∞ –º–∏–Ω–∏‚Äë—Ü–∏–∫–ª—ã —Å —Ü–µ–ª—å—é, –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –∏ —Ç–µ—Å—Ç‚Äë–≥–µ–π—Ç–æ–º (–∫—Ä–∏—Ç–µ—Ä–∏–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏).

---

## ‚úÖ 2) –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ï + –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø - –ó–ê–í–ï–†–®–ï–ù–û
**–¶–µ–ª—å**: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –¥–æ 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

### ‚úÖ **–≠–¢–ê–ü 2 –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù (30.09.2025):**

#### **üöÄ –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ï –î–û 100 –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô:**
- ‚úÖ **gRPC —Å–µ—Ä–≤–µ—Ä:** –£–≤–µ–ª–∏—á–µ–Ω—ã –ª–∏–º–∏—Ç—ã —Å 10 –¥–æ 100 –≤–æ—Ä–∫–µ—Ä–æ–≤
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **Connection pooling:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è 100 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ **–ü–∞–º—è—Ç—å:** –£–≤–µ–ª–∏—á–µ–Ω—ã –ª–∏–º–∏—Ç—ã –ø–∞–º—è—Ç–∏ –≤ 5-10 —Ä–∞–∑
- ‚úÖ **API –ª–∏–º–∏—Ç—ã:** –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ –ø–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã

#### **üèóÔ∏è –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ú–û–î–£–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê:**
- ‚úÖ **gRPC —Ñ–∞–π–ª—ã:** –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ –∫–æ—Ä–Ω—è –≤ `modules/grpc_service/`
- ‚úÖ **Protobuf:** –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–ò–º–ø–æ—Ä—Ç—ã:** –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏

#### **üìä –°–ò–°–¢–ï–ú–ê –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê:**
- ‚úÖ **–ú–µ—Ç—Ä–∏–∫–∏:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, RPS, –æ—à–∏–±–æ–∫
- ‚úÖ **–ê–ª–µ—Ä—Ç—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU, –ø–∞–º—è—Ç–∏, –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –í—Å—Ç—Ä–æ–µ–Ω–∞ –≤ gRPC —Å–µ—Ä–≤–µ—Ä

#### **üß™ –ù–ê–ì–†–£–ó–û–ß–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:**
- ‚úÖ **–°–∫—Ä–∏–ø—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–ú–µ—Ç—Ä–∏–∫–∏:** –ò–∑–º–µ—Ä–µ–Ω–∏–µ RPS, –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞, —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
- ‚úÖ **–ê–Ω–∞–ª–∏–∑:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ **–û—Ç—á–µ—Ç—ã:** –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### **üîß –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨ –ë–ò–ë–õ–ò–û–¢–ï–ö:**
- ‚úÖ **Protobuf:** –û–±–Ω–æ–≤–ª–µ–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ 6.32.1
- ‚úÖ **gRPC:** –û–±–Ω–æ–≤–ª–µ–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ 1.75.1
- ‚úÖ **–î—Ä—É–≥–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:** –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π
- ‚úÖ **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

## ‚úÖ 1) –ö–ª–∏–µ–Ω—Ç: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ UX (S/L/P) - –ó–ê–í–ï–†–®–ï–ù–û
**–¶–µ–ª—å**: —Å—Ç–∞–±–∏–ª—å–Ω—ã–π UX –∏ –ø–æ–ª–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ü–∏–∫–ª S‚ÜíL‚ÜíP‚ÜíS.

‚úÖ **–≠–¢–ê–ü 1 –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù (15.01.2025):**
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π end‚Äëto‚Äëend –ø–æ—Ç–æ–∫ —Å event-driven –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
- ‚úÖ Workflows –∑–∞–º–µ–Ω–∏–ª–∏ –∂–µ—Å—Ç–∫–∏–µ —Ç–∞–π–º–∞—É—Ç—ã –Ω–∞ —É–º–Ω—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `playback.cancelled`
- ‚úÖ PyAudio –∏—Å–ø—Ä–∞–≤–ª–µ–Ω - —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ 19 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π + workflows —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ VoiceOver –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - —É–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏ –∑—Ä–µ–Ω–∏—è
- ‚úÖ WelcomeMessage –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω - —É–¥–∞–ª–µ–Ω–æ 71 –ª–∏—à–Ω–∏–π —Ñ–∞–π–ª
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

- 1.1 Tray —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
  - –î–µ–π—Å—Ç–≤–∏—è: –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `app.mode_changed` –∏ `voice.mic_opened/closed`; –∏–Ω–¥–∏–∫–∞—Ü–∏—è S/L/P; —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—É—Å–∞; –ø–æ–∑–∂–µ ‚Äî `network.status_changed`.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: —Å–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ —Ç—Ä–µ–µ.

- 1.2 Permissions —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
  - –î–µ–π—Å—Ç–≤–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ; –ø—É–±–ª–∏–∫–∞—Ü–∏—è `permission.*`; –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏/–æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π ‚Äî –≤–∏–¥–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏; —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ ‚Äî —Å–æ–±—ã—Ç–∏–µ `permission.all_granted`.

- 1.3 InputProcessing —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
  - –î–µ–π—Å—Ç–≤–∏—è: `long_press`‚ÜíLISTENING; `release`‚ÜíPROCESSING; `short_press`/–æ—à–∏–±–∫–∞‚ÜíSLEEPING; –¥–µ–±–∞—É–Ω—Å/–∞–Ω—Ç–∏‚Äë–¥—Ä–µ–±–µ–∑–≥.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –Ω–∞–¥—ë–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –±–µ–∑ –≥–æ–Ω–æ–∫.

- 1.4 Update Manager (—Ç–∏—Ö–∏–π —Ä–µ–∂–∏–º)
  - –î–µ–π—Å—Ç–≤–∏—è: —Ñ–æ–Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞; –±–µ–∑ UI‚Äë–¥–∏–∞–ª–æ–≥–æ–≤; –ª–æ–≥ —Å—Ç–∞—Ç—É—Å–∞.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞; –±–µ–∑ –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω.

- 1.5 NetworkManagerIntegration
  - –î–µ–π—Å—Ç–≤–∏—è: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `NetworkManager` (TCP/53), –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, —Å–Ω–∞–ø—à–æ—Ç –Ω–∞ `app.startup`; tray tooltip —Å–µ—Ç–∏.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: off/on —Å–µ—Ç–∏ ‚Üí —Å–æ–±—ã—Ç–∏—è `network.status_changed`, tray –æ—Ç—Ä–∞–∂–∞–µ—Ç.

- 1.6 AudioDeviceIntegration
  - –î–µ–π—Å—Ç–≤–∏—è: –≤—ã–±–æ—Ä/–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–±–µ–∑ –æ—Ç–∫—Ä—ã—Ç–∏—è –∑–∞–ø–∏—Å–∏). –§–∏–∑–∏—á–µ—Å–∫–∏–π –∑–∞—Ö–≤–∞—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç VoiceRecognitionIntegration.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–Ω–∞–ø—à–æ—Ç/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤; –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ ¬´already running¬ª.

- 1.7 InterruptManagementIntegration
  - –î–µ–π—Å—Ç–≤–∏—è: `short_press`/–æ—à–∏–±–∫–∞/timeout ‚Üí –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –≤ SLEEPING; –æ—Å—Ç–∞–Ω–æ–≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∏–∑ LISTENING/PROCESSING –≤—Å–µ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

- 1.8 VoiceRecognitionIntegration (LISTENING)
  - –î–µ–π—Å—Ç–≤–∏—è: LONG_PRESS ‚Üí `voice.recording_start` ‚Üí —Ä–µ–∞–ª—å–Ω–æ–µ `start_listening()`; RELEASE ‚Üí `voice.recording_stop` (UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `voice.mic_closed`), –∑–∞—Ç–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç (`voice.recognition_completed/failed`). –ö–æ—Ä–æ—Ç–∫–∏–π —Ç–∞–ø (SHORT_PRESS) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ SLEEPING –±–µ–∑ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç; —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ; –Ω–µ—Ç –¥—É–±–ª–µ–π.

- 1.9 ScreenshotCaptureIntegration (PROCESSING)
  - –î–µ–π—Å—Ç–≤–∏—è: –∑–∞—Ö–≤–∞—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ –ø–æ —Å–æ–±—ã—Ç–∏—é `voice.recording_stop` (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –≤ PROCESSING); –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞; –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: —Å–∫—Ä–∏–Ω –ø–æ–ª—É—á–µ–Ω; –æ—Ç–∫–∞–∑ ‚Äî —Å–æ–±—ã—Ç–∏–µ –æ—à–∏–±–∫–∏.

- 1.10 GrpcClientIntegration (PROCESSING)
  - –î–µ–π—Å—Ç–≤–∏—è: –æ—Ç–ø—Ä–∞–≤–∫–∞ (—Ç–µ–∫—Å—Ç+—Å–∫—Ä–∏–Ω+HWID) –Ω–∞ —Å–µ—Ä–≤–µ—Ä; —Ä–µ—Ç—Ä–∞–∏/backoff –∑–∞–≤–∏—Å—è—Ç –æ—Ç `network`.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç; –ø—Ä–∏ `DISCONNECTED` ‚Äî –Ω–µ —Å–ø–∞–º–∏—Ç –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

 - 1.11 SpeechPlaybackIntegration (–≤–Ω—É—Ç—Ä–∏ PROCESSING) ‚Äî –±–∞–∑–æ–≤–∞—è
  - –î–µ–π—Å—Ç–≤–∏—è: –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞; –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –ø—É–±–ª–∏–∫—É–µ—Ç `playback.completed` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ PROCESSING).
  - –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è: –ù–ï –≤–Ω–µ–¥—Ä—è–µ–º –Ω–∞ —ç—Ç–æ–º —à–∞–≥–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–µ–∑ –æ—Ç–º–µ–Ω).
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –∞—É–¥–∏–æ –¥–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –¥–æ –∫–æ–Ω—Ü–∞; –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ SLEEPING –ø–æ —Å–æ–±—ã—Ç–∏—é.

 - 1.11b SpeechPlaybackInterrupts ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
  - –î–µ–π—Å—Ç–≤–∏—è: `interrupt.request{scope: playback|all}` –∏ `keyboard.short_press` –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –ø–ª–µ–µ—Ä ‚Üí `playback.cancelled` ‚Üí (–≤—Ä–µ–º.) `processing.complete`.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ SLEEPING; –Ω–µ—Ç –≥–æ–Ω–æ–∫.

- 1.12 FSM + Workflows (3 —Ñ–∞–π–ª–∞) + –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
  - –î–µ–π—Å—Ç–≤–∏—è: —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã/—Ç–∞–π–º–∞—É—Ç—ã/–∞–Ω—Ç–∏‚Äë–≥–æ–Ω–∫–∏; –≤–Ω–µ–¥—Ä–∏—Ç—å `sleeping_workflow.py`, `listening_workflow.py`, `processing_workflow.py` (–ø–æ–¥—ç—Ç–∞–ø—ã: capture‚Üígrpc‚Üíplayback) —Å –µ–¥–∏–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π.
  - –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞): –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `interrupt.request{scope: voice|capture|grpc|playback|all, priority, interrupt_id, deadline_ms, reason}` –∏ `interrupt.completed{interrupt_id, result}`; –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–∫–∏ –æ—Ç–º–µ–Ω—ã –≤ –∫–∞–∂–¥—ã–π –ø–æ–¥–ø—Ä–æ—Ü–µ—Å—Å; —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –≤ SLEEPING —á–µ—Ä–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä.
  - –¢–µ—Å—Ç‚Äë–≥–µ–π—Ç: –Ω–µ—Ç –≥–æ–Ω–æ–∫; —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ–º/—Ç–∞–π–º–∞—É—Ç–∞–º–∏ –≤–æ –≤—Å–µ—Ö —Å—Ç–∞–¥–∏—è—Ö S/L/P.

**‚úÖ Exit‚Äë–∫—Ä–∏—Ç–µ—Ä–∏–π –≠—Ç–∞–ø–∞ 1 –î–û–°–¢–ò–ì–ù–£–¢**: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª S‚ÜíL‚ÜíP‚ÜíS –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ; –ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ EventBus; –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç–æ–Ω–∫–∏–µ; Workflows —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã; –ª–æ–≥–∏ –±–µ–∑ PII.

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞)
1) ScreenshotCaptureIntegration ‚Üí `screenshot.captured|error`
2) GrpcClientIntegration ‚Üí `grpc.request_*`
3) SpeechPlaybackIntegration (–±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π)
4) SpeechPlaybackInterrupts (–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –¥–ª—è –ø–ª–µ–µ—Ä–∞)
5) –§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è `listening_workflow.py` –∏ `processing_workflow.py`
6) –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ InterruptManagementIntegration (interrupt_id, –¥–µ–¥–ª–∞–π–Ω—ã, –¥–µ–¥—É–ø)

---

## üöÄ 2) –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–ê–Ø –£–ü–ê–ö–û–í–ö–ê + –î–ï–ü–õ–û–ô - –¢–ï–ö–£–©–ò–ô –≠–¢–ê–ü
**–¶–µ–ª—å**: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ PKG –∏ –¥–µ–ø–ª–æ–π —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è.
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤.

### **üî• –ü–û–¢–û–ö 1: –£–ü–ê–ö–û–í–ö–ê PKG (2-3 —á–∞—Å–∞)**
- 2.1 –°–±–æ—Ä–∫–∞ .app (—Å–º. PACKAGING_PLAN.md)
  - –î–µ–π—Å—Ç–≤–∏—è: PyInstaller (.spec) ‚Üí `.app`; `entitlements.plist` (Mic, Screen Recording, Notifications, Accessibility, VoiceOver).
  - **üß™ –¢–ï–°–¢:** –ó–∞–ø—É—Å–∫ .app –ª–æ–∫–∞–ª—å–Ω–æ
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** `.app` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

- 2.2 –ü–æ–¥–ø–∏—Å—å .app (—Å–º. PACKAGING_PLAN.md)
  - –î–µ–π—Å—Ç–≤–∏—è: `codesign` (Developer ID Application, hardened runtime, entitlements).
  - **üß™ –¢–ï–°–¢:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** `codesign --verify --deep --strict` OK

- 2.3 –°–±–æ—Ä–∫–∞ –∏ –ø–æ–¥–ø–∏—Å—å PKG (—Å–º. PACKAGING_PLAN.md)
  - –î–µ–π—Å—Ç–≤–∏—è: `productbuild` ‚Üí `.pkg`; `productsign` (Developer ID Installer).
  - **üß™ –¢–ï–°–¢:** –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PKG
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** PKG —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

- 2.4 –ù–æ—Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ staple (—Å–º. PACKAGING_PLAN.md)
  - –î–µ–π—Å—Ç–≤–∏—è: `notarytool submit --wait` –¥–ª—è `.pkg`; `stapler staple`.
  - **üß™ –¢–ï–°–¢:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —á–∏—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** PKG —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ Gatekeeper –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

### **üî• –ü–û–¢–û–ö 2: –î–ï–ü–õ–û–ô –°–ï–†–í–ï–†–ê - ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û (2 –æ–∫—Ç—è–±—Ä—è 2025)**

#### **2.5 Azure VM –∏ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û**
- **VM:** `nexy-regular` (Standard_D2s_v3, 2 vCPUs, 8 GiB RAM)
- **IP:** `20.151.51.172` (–ø—É–±–ª–∏—á–Ω—ã–π, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- **–†–µ–≥–∏–æ–Ω:** Canada Central
- **–û–°:** Ubuntu 22.04 LTS
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ Active, —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

#### **2.6 gRPC Server ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û**
  - –î–µ–π—Å—Ç–≤–∏—è: ‚úÖ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `server/` –Ω–∞ Azure VM (20.151.51.172); ‚úÖ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π; ‚úÖ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞.
  - **üß™ –¢–ï–°–¢:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ gRPC —Å–µ—Ä–≤–µ—Ä–∞
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** ‚úÖ gRPC —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 50051

- 2.6 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AppCast —Å–µ—Ä–≤–µ—Ä–∞ ‚è≥ **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û**
  - –î–µ–π—Å—Ç–≤–∏—è: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ update-server –Ω–∞ –ø–æ—Ä—Ç—É 8081; –≥–µ–Ω–µ—Ä–∞—Ü–∏—è appcast.xml; —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ PKG —Ñ–∞–π–ª–æ–≤.
  - **üß™ –¢–ï–°–¢:** –ü—Ä–æ–≤–µ—Ä–∫–∞ AppCast –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** AppCast –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://20.151.51.172:8081/appcast.xml

- 2.7 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**
  - –î–µ–π—Å—Ç–≤–∏—è: ‚úÖ —Å–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è; ‚úÖ –Ω–∞—Å—Ç—Ä–æ–µ–Ω GitHub Actions; ‚úÖ —Å–æ–∑–¥–∞–Ω Service Principal.
  - **üß™ –¢–ï–°–¢:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** ‚úÖ Push –≤ main ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ VM

**Exit‚Äë–∫—Ä–∏—Ç–µ—Ä–∏–π –≠—Ç–∞–ø–∞ 2**: ‚úÖ gRPC —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç; ‚úÖ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω; ‚è≥ PKG –ø–æ–¥–ø–∏—Å–∞–Ω/–Ω–æ—Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω/—Å—Ç–µ–ø–ª–µ–Ω; ‚è≥ AppCast –¥–æ—Å—Ç—É–ø–µ–Ω; —ç–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ 1-2 —á–∞—Å–∞.

---

## üìä **–¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° (2 –û–ö–¢–Ø–ë–†–Ø 2025): –°–ï–†–í–ï–† –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢**

### ‚úÖ **PRODUCTION –°–ï–†–í–ï–† - –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í:**

#### **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **Azure VM:** `nexy-regular` (Standard_D2s_v3, 2 vCPUs, 8 GiB RAM)
- **IP –∞–¥—Ä–µ—Å:** `20.151.51.172` (–ø—É–±–ª–∏—á–Ω—ã–π, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- **–†–µ–≥–∏–æ–Ω:** Canada Central
- **–û–°:** Ubuntu 22.04 LTS
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ Active (running) - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å 01:44:16 UTC
- **Uptime:** –°—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–æ–∫
- **–†–µ—Å—É—Ä—Å—ã:** RAM: 96MB/8GB (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ), CPU: —Å—Ç–∞–±–∏–ª—å–Ω–æ

#### **–°–µ—Ä–≤–∏—Å—ã:**
- **gRPC Server:** ‚úÖ –ü–æ—Ä—Ç 50051 - 100 –≤–æ—Ä–∫–µ—Ä–æ–≤, –≥–æ—Ç–æ–≤ –∫ 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **HTTP Server:** ‚úÖ –ü–æ—Ä—Ç 8080 - health checks & status API
- **Nginx Proxy:** ‚úÖ –ü–æ—Ä—Ç 80 - reverse proxy ‚Üí 8080
- **Update Server:** ‚úÖ –ü–æ—Ä—Ç 8081 - Sparkle –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **Systemd Service:** ‚úÖ `voice-assistant.service` - active (running)

#### **Health Checks:**
- **Health Endpoint:** ‚úÖ `http://20.151.51.172/health` ‚Üí `200 OK`
- **Status API:** ‚úÖ `http://20.151.51.172/status` ‚Üí JSON –º–µ—Ç—Ä–∏–∫–∏
- **gRPC Port:** ‚úÖ `20.151.51.172:50051` ‚Üí –∞–∫—Ç–∏–≤–µ–Ω –∏ —Å–ª—É—à–∞–µ—Ç

#### **Git & CI/CD:**
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** ‚úÖ `https://github.com/Seregawpn/Nexy_server.git`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:** ‚úÖ –°–∫—Ä–∏–ø—Ç `/home/azureuser/update-server.sh`
- **GitHub Actions:** ‚ö†Ô∏è Workflow –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Azure auth
- **Service Principal:** ‚úÖ –°–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **Protobuf Regeneration:** ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- **Rollback Mechanism:** ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

#### **–ú–æ–¥—É–ª–∏ –∏ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Text Processing:** ‚úÖ Ready (Gemini API)
- **Audio Generation:** ‚úÖ Ready (Azure Speech)
- **Session Management:** ‚úÖ Active (–¥–æ 100 —Å–µ—Å—Å–∏–π)
- **Memory Management:** ‚úÖ Active
- **Interrupt Handling:** ‚úÖ Active
- **Database:** ‚úÖ Connected (PostgreSQL)
- **Monitoring:** ‚úÖ Active (–º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–ª–µ—Ä—Ç—ã)
- **GitHub Secrets:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–ª–æ—è:** –í—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ (30 —Å–µ–Ω—Ç—è–±—Ä—è 2025)
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ
- **–ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Ä—Å–∏–π grpcio, protobuf, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### ‚è≥ **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£:**
- **–£–ø–∞–∫–æ–≤–∫–∞ PKG/DMG:** –ü–æ–¥–ø–∏—Å—å + –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è
- **AppCast —Å–µ—Ä–≤–µ—Ä:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ update-server –Ω–∞ –ø–æ—Ä—Ç—É 8081
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä–∫–∏

### üîß **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**
1. **–î–æ–±–∞–≤–∏—Ç—å GitHub Secrets** (5 –º–∏–Ω) - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ø–ª–æ–π** - —Å–¥–µ–ª–∞—Ç—å push –≤ main ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**
3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —É–ø–∞–∫–æ–≤–∫—É PKG** - –ø–æ–¥–ø–∏—Å—å + –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è ‚è≥ **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£**
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å AppCast** - update-server –Ω–∞ –ø–æ—Ä—Ç—É 8081 ‚è≥ **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£**

---

## üìÅ **–í–ê–ñ–ù–û: –°–¢–†–£–ö–¢–£–†–ê –†–ï–ü–û–ó–ò–¢–û–†–ò–ï–í**

### **üîó –î–í–ê –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø:**

**1. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):**
- **URL:** `https://github.com/Seregawpn/nexy_new.git`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (–∫–ª–∏–µ–Ω—Ç + —Å–µ—Ä–≤–µ—Ä)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** `client/` + `server/` + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**2. –°–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (Azure –¥–µ–ø–ª–æ–π):**
- **URL:** `https://github.com/Seregawpn/Nexy_server.git`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –¥–ª—è Azure VM
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Azure VM
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –¢–æ–ª—å–∫–æ `server/` —Ñ–∞–π–ª—ã + GitHub Actions

### **üîÑ –ü–†–û–¶–ï–°–° –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò:**

**–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** ‚Üí –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (`nexy_new`)
2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚Üí –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `server/` –≤ `Nexy_server`
3. **–î–µ–ø–ª–æ–π** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —á–µ—Ä–µ–∑ GitHub Actions

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Seregawpn/Nexy_server.git nexy_server_temp

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–µ—Ä–≤–µ—Ä–∞
cp -r server/* nexy_server_temp/
cp -r server/.* nexy_server_temp/ 2>/dev/null || true

# –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd nexy_server_temp
git add .
git commit -m "üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞: [–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π]"
git push origin main --force

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd .. && rm -rf nexy_server_temp
```

### **‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´:**
- **Azure VM** –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ `Nexy_server` —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- **GitHub Actions** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `Nexy_server`
- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** –≤–µ–¥–µ—Ç—Å—è –≤ `nexy_new`
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –Ω—É–∂–Ω–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞

---

## üß™ 3) –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –°–ò–°–¢–ï–ú–´ –û–ë–ù–û–í–õ–ï–ù–ò–ô - –ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£
**–¶–µ–ª—å**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä.
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É–ø–∞–∫–æ–≤–∫–∏ PKG.

- 3.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ AppCast –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
  - –î–µ–π—Å—Ç–≤–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ http://20.151.51.172:8081/appcast.xml; –≤–∞–ª–∏–¥–∞—Ü–∏—è XML; –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ PKG.
  - **üß™ –¢–ï–°–¢:** –í–∞–ª–∏–¥–∞—Ü–∏—è AppCast XML
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** AppCast –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π XML —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π

- 3.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - –î–µ–π—Å—Ç–≤–∏—è: –∑–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞; —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π; –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –≤ ~/Library/Logs/Nexy/updater.log.
  - **üß™ –¢–ï–°–¢:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –ö–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫

- 3.3 –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - –î–µ–π—Å—Ç–≤–∏—è: —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏; –∑–∞–≥—Ä—É–∑–∫–∞ PKG –Ω–∞ —Å–µ—Ä–≤–µ—Ä; —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏; –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.
  - **üß™ –¢–ï–°–¢:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - **‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

**Exit‚Äë–∫—Ä–∏—Ç–µ—Ä–∏–π –≠—Ç–∞–ø–∞ 3**: –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞; –∫–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞.

---

## üß™ **–î–ï–¢–ê–õ–¨–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –¶–ò–ö–õ–ò–ß–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

### **üîÑ –ü–†–ò–ù–¶–ò–ü: –¢–ï–°–¢ ‚Üí –í–ê–õ–ò–î–ê–¶–ò–Ø ‚Üí –ü–ï–†–ï–•–û–î**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –¢–ï–°–¢   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ –í–ê–õ–ò–î–ê–¶–ò–Ø   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ –ü–ï–†–ï–•–û–î  ‚îÇ
‚îÇ         ‚îÇ    ‚îÇ             ‚îÇ    ‚îÇ          ‚îÇ
‚îÇ –í—ã–ø–æ–ª–Ω—è-‚îÇ    ‚îÇ –ü—Ä–æ–≤–µ—Ä–∫–∞    ‚îÇ    ‚îÇ –ö —Å–ª–µ–¥—É- ‚îÇ
‚îÇ –µ–º      ‚îÇ    ‚îÇ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤   ‚îÇ    ‚îÇ —é—â–µ–º—É    ‚îÇ
‚îÇ –ø—Ä–æ–≤–µ—Ä–∫–∏‚îÇ    ‚îÇ —É—Å–ø–µ—Ö–∞      ‚îÇ    ‚îÇ —ç—Ç–∞–ø—É    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚ñ≤                                    ‚îÇ
     ‚îÇ                                    ‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ù–ï–£–î–ê–ß–ê ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ
     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï ‚îÇ
‚îÇ             ‚îÇ
‚îÇ –ê–Ω–∞–ª–∏–∑      ‚îÇ
‚îÇ –æ—à–∏–±–æ–∫      ‚îÇ
‚îÇ –∏ –∏—Å–ø—Ä–∞–≤-   ‚îÇ
‚îÇ –ª–µ–Ω–∏–µ       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **üìã –ü–†–ê–í–ò–õ–ê –¶–ò–ö–õ–ò–ß–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:**
1. **–ù–ï –ü–ï–†–ï–•–û–î–ò–ú** –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É –±–µ–∑ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
2. **–î–û–ö–£–ú–ï–ù–¢–ò–†–£–ï–ú** –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ê–ù–ê–õ–ò–ó–ò–†–£–ï–ú** –Ω–µ—É–¥–∞—á–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–±–ª–µ–º—ã
4. **–ü–û–í–¢–û–†–Ø–ï–ú** —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
5. **–í–ï–î–ï–ú** –∂—É—Ä–Ω–∞–ª –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ü–∏–∫–ª–æ–≤

---

### **üöÄ –≠–¢–ê–ü 1: –ü–û–î–ì–û–¢–û–í–ö–ê (3 —Ç–µ—Å—Ç–∞)**

#### **üß™ –¢–ï–°–¢ 1.1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —É–ø–∞–∫–æ–≤–∫–∏**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
ls -la client/packaging/
ls -la client/packaging/build_final.sh
ls -la client/packaging/Nexy.spec
ls -la client/packaging/entitlements.plist
ls -la client/packaging/distribution.xml
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –í—Å–µ —Ñ–∞–π–ª—ã —É–ø–∞–∫–æ–≤–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, build_final.sh –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π

#### **üß™ –¢–ï–°–¢ 1.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
ls -la server/
ls -la server/main.py
ls -la server/grpc_server.py
ls -la server/requirements.txt
ls -la server/config.env
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –í—Å–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, requirements.txt –∞–∫—Ç—É–∞–ª–µ–Ω

#### **üß™ –¢–ï–°–¢ 1.3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
grep -A 10 "updater:" client/config/unified_config.yaml
grep -A 5 "appcast:" client/config/network_config.yaml
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** appcast_url –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ IP (20.151.51.172), –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

### **üöÄ –≠–¢–ê–ü 2: –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–ê–Ø –£–ü–ê–ö–û–í–ö–ê + –î–ï–ü–õ–û–ô (7 —Ç–µ—Å—Ç–æ–≤)**

#### **üî• –ü–û–¢–û–ö 1: –£–ü–ê–ö–û–í–ö–ê (4 —Ç–µ—Å—Ç–∞)**

**üß™ –¢–ï–°–¢ 2.1.1: –°–±–æ—Ä–∫–∞ .app**
**–î–µ–π—Å—Ç–≤–∏—è:** `cd client/packaging && ./build_final.sh`
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** .app —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ dist/, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ

**üß™ –¢–ï–°–¢ 2.1.2: –ü–æ–¥–ø–∏—Å—å .app**
**–î–µ–π—Å—Ç–≤–∏—è:** `codesign --verify --deep --strict dist/Nexy.app`
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –ü–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞, –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

**üß™ –¢–ï–°–¢ 2.1.3: –°–±–æ—Ä–∫–∞ –∏ –ø–æ–¥–ø–∏—Å—å PKG**
**–î–µ–π—Å—Ç–≤–∏—è:** `pkgutil --check-signature dist/Nexy.pkg && sudo installer -pkg dist/Nexy.pkg -target /`
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** PKG —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ, –ø–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç

**üß™ –¢–ï–°–¢ 2.1.4: –ù–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è**
**–î–µ–π—Å—Ç–≤–∏—è:** `xcrun stapler validate dist/Nexy.pkg && spctl --assess --type install dist/Nexy.pkg`
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –ù–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, PKG –ø—Ä–æ—Ö–æ–¥–∏—Ç Gatekeeper

#### **üî• –ü–û–¢–û–ö 2: –î–ï–ü–õ–û–ô –°–ï–†–í–ï–†–ê (3 —Ç–µ—Å—Ç–∞)**

**üß™ –¢–ï–°–¢ 2.2.1: –î–µ–ø–ª–æ–π gRPC —Å–µ—Ä–≤–µ—Ä–∞**
**–î–µ–π—Å—Ç–≤–∏—è:** 
```bash
scp -r server/ nexy@20.151.51.172:/home/nexy/app/
ssh nexy@20.151.51.172 "cd /home/nexy/app/server && python3.11 -m venv .venv && source .venv/bin/activate && pip install -r requirements.txt"
ssh nexy@20.151.51.172 "sudo systemctl start nexy-grpc"
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –§–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω

**üß™ –¢–ï–°–¢ 2.2.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ gRPC —Å–µ—Ä–≤–µ—Ä–∞**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
ssh nexy@20.151.51.172 "systemctl status nexy-grpc"
ssh nexy@20.151.51.172 "netstat -tlnp | grep 50051"
telnet 20.151.51.172 50051
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –°–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–µ–Ω, –ø–æ—Ä—Ç 50051 –æ—Ç–∫—Ä—ã—Ç, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ

**üß™ –¢–ï–°–¢ 2.2.3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AppCast —Å–µ—Ä–≤–µ—Ä–∞**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
ssh nexy@20.151.51.172 "sudo systemctl start nexy-update"
curl -v http://20.151.51.172:8081/appcast.xml
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** update-server –∑–∞–ø—É—â–µ–Ω, AppCast –¥–æ—Å—Ç—É–ø–µ–Ω, XML –≤–∞–ª–∏–¥–µ–Ω

---

### **üß™ –≠–¢–ê–ü 3: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –û–ë–ù–û–í–õ–ï–ù–ò–ô (3 —Ç–µ—Å—Ç–∞)**

**üß™ –¢–ï–°–¢ 3.1: –ü—Ä–æ–≤–µ—Ä–∫–∞ AppCast –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
curl -f -s http://20.151.51.172:8081/appcast.xml
xmllint --noout http://20.151.51.172:8081/appcast.xml
curl -I http://20.151.51.172:8081/Nexy.pkg
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** AppCast –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP 200, XML –≤–∞–ª–∏–¥–µ–Ω, PKG —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω

**üß™ –¢–ï–°–¢ 3.2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
cd client && python main.py &
CLIENT_PID=$!
sleep 5
tail -f ~/Library/Logs/Nexy/updater.log
kill $CLIENT_PID
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫, –ª–æ–≥–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è, –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

**üß™ –¢–ï–°–¢ 3.3: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
./scripts/create_version_release.sh v1.0.1 "Test update"
scp client/dist/Nexy.pkg nexy@20.151.51.172:/var/www/nexy/appcast/
# –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç
```
**‚úÖ –ö–†–ò–¢–ï–†–ò–ô:** –¢–µ—Å—Ç–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞, PKG –∑–∞–≥—Ä—É–∂–µ–Ω, –∫–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞

---

### **üìä –ñ–£–†–ù–ê–õ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

**üìã –®–ê–ë–õ–û–ù –ó–ê–ü–ò–°–ò –¢–ï–°–¢–ê:**
```
–î–∞—Ç–∞: YYYY-MM-DD HH:MM:SS
–¢–µ—Å—Ç: [–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞]
–≠—Ç–∞–ø: [–ù–æ–º–µ—Ä —ç—Ç–∞–ø–∞]
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£–°–ü–ï–• / ‚ùå –ù–ï–£–î–ê–ß–ê
–î–µ—Ç–∞–ª–∏: [–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞]
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: [–ï—Å–ª–∏ –Ω–µ—É–¥–∞—á–∞ - —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ]
–°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç: [–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–µ—Å—Ç–∞]
```

**üìà –ú–ï–¢–†–ò–ö–ò –ö–ê–ß–ï–°–¢–í–ê:**
- **–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:** ‚â•95%
- **–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** ‚â§30 –º–∏–Ω—É—Ç –Ω–∞ —Ç–µ—Å—Ç
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π:** ‚â§3 –Ω–∞ —ç—Ç–∞–ø
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:** 0

---

### **üéØ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò –ö –ü–†–û–î–ê–ö–®–ï–ù–£**

**‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´:**
1. **–£–ø–∞–∫–æ–≤–∫–∞:** PKG –ø–æ–¥–ø–∏—Å–∞–Ω, –Ω–æ—Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
2. **–°–µ—Ä–≤–µ—Ä:** gRPC —Ä–∞–±–æ—Ç–∞–µ—Ç, AppCast –¥–æ—Å—Ç—É–ø–µ–Ω
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ó–ê–ü–£–°–ö–£:**
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- –ù–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ—à–∏–±–æ–∫
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- –ö–æ–º–∞–Ω–¥–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**Exit‚Äë–∫—Ä–∏—Ç–µ—Ä–∏–π –≠—Ç–∞–ø–∞ 3**: –ü—Ä–æ–¥–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω; –∫–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç end‚Äëto‚Äëend; –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å Azure.

---

## üîÅ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ—Ä—è–¥–æ–∫
- –≠—Ç–∞–ø 1 ‚Üí –≠—Ç–∞–ø 2 ‚Üí –≠—Ç–∞–ø 3. –≠—Ç–∞–ø 2 –º–æ–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å –∫ –∫–æ–Ω—Ü—É –≠—Ç–∞–ø–∞ 1 (—Å–∫—Ä–∏–ø—Ç—ã –ø–æ–¥–ø–∏—Å–∏/–Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏). –≠—Ç–∞–ø 3 –º–æ–∂–Ω–æ –ø–æ–¥–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ 1.9‚Äì1.11.

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥, –ª–æ–≥–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ö–æ–Ω—Ñ–∏–≥–∏ –∫–ª–∏–µ–Ω—Ç–∞: `client/config/*.yaml` ‚Äî `grpc_host`, `grpc_port`, `appcast_url`, —Ç–∞–π–º–∞—É—Ç—ã, —Ä–µ—Ç—Ä–∞–∏, backoff.
- –õ–æ–≥–∏: –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, —É—Ä–æ–≤–Ω–∏ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º; –±–µ–∑ PII; –∫–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è (—Ä–µ–∂–∏–º—ã/—Å–µ—Ç—å/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è).
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è/Entitlements: Mic, Screen Recording, Notifications, Accessibility, VoiceOver, Network ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã —Å `permissions`.
- –°–µ–∫—Ä–µ—Ç—ã: Apple (–ø–æ–¥–ø–∏—Å—å/–Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è) ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ/–≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ; Azure ‚Äî App Settings/Key Vault.

---

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (—Å–≤–æ–¥–Ω–æ)
- ‚úÖ **–≠–¢–ê–ü 1 –ó–ê–í–ï–†–®–ï–ù:** –í—Å–µ 19 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π + workflows —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Event-driven FSM, —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
- ‚úÖ **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª:** S‚ÜíL‚ÜíP‚ÜíS —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ **VoiceOver –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –£–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏ –∑—Ä–µ–Ω–∏—è
- ‚úÖ **WelcomeMessage –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ü—Ä–æ–µ–∫—Ç –æ—á–∏—â–µ–Ω, –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
- üî• **–¢–ï–ö–£–©–ò–ô –§–û–ö–£–°:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ ‚Üí PKG —É–ø–∞–∫–æ–≤–∫–∞ ‚Üí Azure —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ ‚Üí E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìå –ú–∏–Ω–∏‚Äë–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏ (–ø—Ä–∏–º–µ—Ä)
- –ö–ª–∏–µ–Ω—Ç/–°–µ—Ç—å: off/on ‚Üí `network.status_changed`, tray –æ—Ç—Ä–∞–∂–∞–µ—Ç.
- –ì–æ–ª–æ—Å–æ–≤–æ–π —Ü–∏–∫–ª: S‚ÜíL‚ÜíP‚ÜíS ‚Äî –±–µ–∑ –≥–æ–Ω–æ–∫; —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã.
- PKG: `codesign`/`productbuild`/`productsign`/`notarytool`/`stapler` ‚Äî –≤—Å–µ OK.
- Azure: health ‚ÄúServing‚Äù; TLS/HTTP2 –≤–∫–ª—é—á–µ–Ω—ã; `appcast.xml`/PKG –ø–æ HTTPS.

---

## üóÇ –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `client/Docs/INTEGRATION_MASTER_PLAN.md` ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
- `client/Docs/PRODUCT_CONCEPT.md` ‚Äî UX –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏.
- (Auth/Chat ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–æ; –ø–ª–∞–Ω —É–¥–∞–ª—ë–Ω –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- `client/PACKAGING_README.md`, `PACKAGING_README.md`, `PRODUCTION_BUILD_GUIDE.md` ‚Äî —É–ø–∞–∫–æ–≤–∫–∞.
- `AZURE_SETUP.md` ‚Äî –∑–∞–º–µ—Ç–∫–∏ –ø–æ Azure (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å).

---

## ‚òÅÔ∏è Azure VM ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —á–µ–∫‚Äë–ª–∏—Å—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**

### ‚úÖ **–¢–ï–ö–£–©–ò–ï –ü–ê–†–ê–ú–ï–¢–†–´ (–ù–ê–°–¢–†–û–ï–ù–´ –ò –†–ê–ë–û–¢–ê–Æ–¢):**
- **Resource group**: Nexy
- **Region**: Canada Central
- **VM OS**: Linux (Ubuntu 22.04)
- **VM Name**: nexy-regular
- **IP Address**: 20.151.51.172
- **Size**: Standard_D2s_v3 (2 vCPUs, 8 GiB RAM)
- **Status**: ‚úÖ Active (running)

### ‚úÖ **–ù–ê–°–¢–†–û–ï–ù–ù–´–ï –°–ï–†–í–ò–°–´:**
- **HTTP Server**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8080 (–ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ nginx –Ω–∞ –ø–æ—Ä—Ç 80)
- **gRPC Server**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 50051
- **Health Endpoints**: ‚úÖ `/health` –∏ `/status` –¥–æ—Å—Ç—É–ø–Ω—ã
- **Systemd Service**: ‚úÖ `voice-assistant.service` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **Nginx**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ reverse proxy
- **Git Repository**: ‚úÖ `https://github.com/Seregawpn/Nexy_server.git` –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω

### ‚úÖ **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –î–ï–ü–õ–û–ô –ù–ê–°–¢–†–û–ï–ù:**
- **Update Script**: ‚úÖ `/home/azureuser/update-server.sh` —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- **Error Handling**: ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **Health Checks**: ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **Logging**: ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥
- **Service Principal**: ‚úÖ –°–æ–∑–¥–∞–Ω –¥–ª—è GitHub Actions
- **GitHub Actions**: ‚úÖ Workflow `.github/workflows/deploy-to-azure.yml` –≥–æ—Ç–æ–≤

### ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:**
- **Port Conflict**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–∞ 80 (–∏–∑–º–µ–Ω–µ–Ω –Ω–∞ 8080)
- **Git Permissions**: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
- **Systemd Service**: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **Dependencies**: ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### üîß **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**
1. **GitHub Secrets**: –î–æ–±–∞–≤–∏—Ç—å `AZURE_CREDENTIALS` –≤ GitHub Repository Settings
2. **Test Deploy**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
3. **SSH Access**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –¥–æ—Å—Ç—É–ø –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **Update Server**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å update —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8081 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Size**: Standard D2s v3 (2 vCPUs, 8 GiB)
- **Public IP (primary NIC)**: 20.151.51.172
- **VNet/Subnet**: nexy-vnet/default
- **DNS name**: Not configured (–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∏–∂–µ)
- **Subscription**: Azure subscription 1
- **Subscription ID**: 6d225f4c-756c-41ff-b361-62f248a60a2d
- **Status**: Stopped (deallocated) ‚Äî –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–Ω–æ—Å–æ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –±–µ–∑ Docker/CI
1) –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - –ó–∞–∫—Ä–µ–ø–∏—Ç—å Public IP –∫–∞–∫ Static.
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS‚Äë–∏–º—è –¥–ª—è IP (–Ω–∞–ø—Ä–∏–º–µ—Ä, `api.yourdomain.com`).
   - –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã: 22 (–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥ –≤–∞—à IP), 80 (HTTP, –¥–ª—è certbot), 443 (HTTPS, HTTP/2).
   - –í–∫–ª—é—á–∏—Ç—å UFW/NSG –ø—Ä–∞–≤–∏–ª–∞, –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å/–∑–∞–∫—Ä—ã—Ç—å 22.
2) –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã
   - –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `nexy`; –æ–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–∞–∫–µ—Ç–æ–≤.
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `python3.11`, `python3.11-venv`, `nginx`, `certbot`, `python3-certbot-nginx`.
3) –î–æ—Å—Ç–∞–≤–∫–∞ –∫–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞ (`server/`)
   - –í–∞—Ä–∏–∞–Ω—Ç A: `scp` –∞—Ä—Ö–∏–≤–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã ‚Üí `~nexy/app/server/`.
   - –í–∞—Ä–∏–∞–Ω—Ç B: `curl -L -o release.zip` –∏–∑ GitHub Releases ‚Üí —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å.
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å `config.env` –ø–æ `server/config.env.example`.
   - –°–æ–∑–¥–∞—Ç—å venv –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `python -m venv .venv && source .venv/bin/activate && pip install -r requirements.txt`.
4) –°–µ—Ä–≤–∏—Å gRPC
   - systemd unit `nexy-grpc.service` (—Å–ª—É—à–∞–µ—Ç `127.0.0.1:50051`, HTTP/2):
     - ExecStart: `/home/nexy/app/server/.venv/bin/python grpc_server.py --host 127.0.0.1 --port 50051`
     - Restart=always, WantedBy=multi-user.target
5) Nginx + TLS + —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   - –í—ã–¥–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: `sudo certbot --nginx -d api.yourdomain.com`.
   - Nginx 443: `listen 443 ssl http2;` –∏ –ø—Ä–æ–∫—Å–∏ `grpc_pass grpc://127.0.0.1:50051;`.
   - –ü–∞–ø–∫–∞ –¥–ª—è AppCast/PKG: `/var/www/nexy/appcast/`.
   - –†–∞–∑–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ `https://api.yourdomain.com/updates/` (alias –Ω–∞ –ø–∞–ø–∫—É –≤—ã—à–µ).
6) AppCast/PKG
   - –†–∞–∑–º–µ—Å—Ç–∏—Ç—å `appcast.xml` –∏ `Nexy-x.y.z.pkg` –≤ `/var/www/nexy/appcast/`.
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: `https://api.yourdomain.com/updates/appcast.xml`.
7) –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏
   - `client/config/app_config.yaml` / `network_config.yaml`:
     - `grpc_host: api.yourdomain.com`, `grpc_port: 443`, `use_tls: true`.
     - `appcast_url: https://api.yourdomain.com/updates/appcast.xml`.
     - (–ü–ª–∞–Ω) `auth.enabled: true` ‚Äî –∫–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç `authorization: Bearer <token>` –≤ metadata –≤—Å–µ—Ö RPC.
8) –ü—Ä–æ–≤–µ—Ä–∫–∏
   - `systemctl status nexy-grpc` ‚Äî –∞–∫—Ç–∏–≤–µ–Ω; `nginx -t` ‚Äî OK; certbot ‚Äî –≤–∞–ª–∏–¥–Ω—ã–π cert.
   - –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π S‚ÜíL‚ÜíP‚ÜíS —Ä–∞–±–æ—Ç–∞–µ—Ç; Sparkle —Ç—è–Ω–µ—Ç –∞–ø–¥–µ–π—Ç —Å `appcast.xml`.

### –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–æ–º–µ–Ω (A/AAAA –∫ 20.151.51.172): `api.yourdomain.com`
- Email –¥–ª—è Certbot: `admin@yourdomain.com`
- –ü—É—Ç–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ AppCast/PKG: `/var/www/nexy/appcast/`
- –í–µ—Ä—Å–∏–∏ —Ä–µ–ª–∏–∑–æ–≤ –∏ —Å—Å—ã–ª–∫–∏ –≤–Ω—É—Ç—Ä–∏ `appcast.xml`

---

## üîê –ü–æ–¥–ø–∏—Å—å –∏ –Ω–æ—Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

### –î–∞–Ω–Ω—ã–µ (–Ω–µ—Å–µ–∫—Ä–µ—Ç–Ω—ã–µ ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤ –ø–ª–∞–Ω–µ)
- Apple ID (email): seregawpn@gmail.com
- Team ID (App ID Prefix): 5NKLL2CLB9
- Bundle ID (explicit): com.nexy.assistant
- –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: iOS, iPadOS, macOS, tvOS, watchOS, visionOS
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: Nexy

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: App‚ÄëSpecific Password –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –¢–û–õ–¨–ö–û –ª–æ–∫–∞–ª—å–Ω–æ –≤ Keychain, –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã ‚Äî –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–æ—á–Ω—ã–µ –∏–º–µ–Ω–∞ –∏–∑ Keychain)
- Developer ID Application: "Developer ID Application: <Your Name> (5NKLL2CLB9)"
- Developer ID Installer:  "Developer ID Installer: <Your Name> (5NKLL2CLB9)"

–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:
```bash
security find-identity -p codesigning -v | cat
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ notarytool (–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ App‚ÄëSpecific Password)
–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Keychain –ø–æ–¥ –ø—Ä–æ—Ñ–∏–ª–µ–º `nexy-notary` (–ø–∞—Ä–æ–ª—å –≤–≤–æ–¥–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ git):
```bash
xcrun notarytool store-credentials nexy-notary \
  --apple-id seregawpn@gmail.com \
  --team-id 5NKLL2CLB9 \
  --keychain-profile nexy-notary
```

–ù–æ—Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª—è:
```bash
xcrun notarytool submit Nexy.pkg --keychain-profile nexy-notary --wait
xcrun stapler staple Nexy.pkg
```

### –ü–æ–¥–ø–∏—Å—å .app –∏ .pkg (—à–∞–±–ª–æ–Ω –∫–æ–º–∞–Ω–¥)
```bash
# –ü–æ–¥–ø–∏—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (.app)
codesign --deep --force --options runtime \
  --entitlements client/entitlements.plist \
  --sign "Developer ID Application: <Your Name> (5NKLL2CLB9)" Nexy.app

# –°–±–æ—Ä–∫–∞ –∏ –ø–æ–¥–ø–∏—Å—å –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–∞ (.pkg)
productbuild --component Nexy.app /Applications Nexy.pkg
productsign --sign "Developer ID Installer: <Your Name> (5NKLL2CLB9)" Nexy.pkg Nexy.pkg

# –ù–æ—Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å—Ç–µ–ø–ª–∏–Ω–≥
xcrun notarytool submit Nexy.pkg --keychain-profile nexy-notary --wait
xcrun stapler staple Nexy.pkg
```

### Sparkle (–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- –ö–ª—é—á–∏ Sparkle (EdDSA): —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –ª–æ–∫–∞–ª—å–Ω–æ/–≤ secret‚Äë—Ö—Ä–∞–Ω–∏–ª–∏—â–µ; –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
- `appcast.xml`: —Ä–∞–∑–º–µ—â–∞–µ–º –Ω–∞ Azure (—Å–º. —Ä–∞–∑–¥–µ–ª Azure VM). –°—Å—ã–ª–∫–∏ –Ω–∞ `.pkg` –ø–æ HTTPS.

### –ö–æ–Ω—Ñ–∏–≥–∏ –∫–ª–∏–µ–Ω—Ç–∞ (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–º—É —Ä–µ–ª–∏–∑—É)
- `client/config/app_config.yaml`:
  - `appcast_url: https://api.<domain>.com/updates/appcast.xml`
- `client/config/network_config.yaml`:
  - `grpc_host: api.<domain>.com`, `grpc_port: 443`, `use_tls: true`

### –ü–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å App‚ÄëSpecific Password, .p12 –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ Sparkle –≤ git.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å macOS Keychain –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–µ–∫—Ä–µ—Ç–∞–º.
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å macOS –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –ø–æ–¥–ø–∏—Å–∏.

---

## ‚ö†Ô∏è –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É)

> –í–ù–ò–ú–ê–ù–ò–ï: —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ macOS Keychain/—Å–µ–∫—Ä–µ—Ç‚Äë—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞.

- Apple ID (email): seregawpn@gmail.com
- Team ID: 5NKLL2CLB9
- Bundle ID: com.nexy.assistant
- App‚ÄëSpecific Password: qtiv-kabm-idno-qmbl

> –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ notarytool/CI —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 
> 1) –†–û–¢–ò–†–û–í–ê–¢–¨ App‚ÄëSpecific Password –≤ Apple ID.
> 2) –£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ (–ø–ª–∞–Ω)
- –¢–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ macOS Keychain
- gRPC –≤—ã–∑–æ–≤—ã —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è `metadata.authorization: Bearer <token>`
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π CLI‚Äë—á–∞—Ç –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ—Ç–æ–∫–∞ (–æ—Ç–ª–æ–∂–µ–Ω–æ)
