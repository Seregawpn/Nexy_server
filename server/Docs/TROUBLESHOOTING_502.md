# üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 502 Bad Gateway

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## üìã **–ü—Ä–æ–±–ª–µ–º–∞**

–û—à–∏–±–∫–∞: `StatusCode.UNAVAILABLE` —Å `"Received http2 header with status: 502"`

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- Nginx –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502 Bad Gateway
- Nginx –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º –Ω–∞ localhost (–ø–æ—Ä—Ç—ã 8080 –∏–ª–∏ 50051)
- –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞/–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–µ protobuf)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Nginx –Ω–∞ –ø–æ—Ä—Ç—É 443 (HTTPS)
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ—Ä—Ç—ã:** 8080 (HTTP health), 50051 (gRPC), 8081 (Updates) ‚Äî —Ç–æ–ª—å–∫–æ localhost
- **Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç:** `https://20.151.51.172/health` ‚Üí `http://127.0.0.1:8080/health`
- **Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç:** `https://20.151.51.172/` (gRPC) ‚Üí `grpc://127.0.0.1:50051`

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ —É–ø–∞–ª (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ—Ä—Ç—ã –Ω–µ —Å–ª—É—à–∞—é—Ç)
2. –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –∏ –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å
3. –ü—Ä–æ–±–ª–µ–º–∞ —Å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ upstream)
4. –°–µ—Ç–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ localhost

---

## üîç **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ systemd —Å–µ—Ä–≤–∏—Å–∞**

```bash
sudo systemctl status voice-assistant.service --no-pager -l
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°—Ç–∞—Ç—É—Å: `active (running)`
- –ü—Ä–æ—Ü–µ—Å—Å Python –∑–∞–ø—É—â–µ–Ω
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

**–ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl restart voice-assistant.service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
sudo systemctl status voice-assistant.service --no-pager -l
```

---

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ—Ä—Ç–æ–≤ (localhost)**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ—Ä—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ localhost)
ss -tlnp | grep -E ':(50051|8080|8081)'
# –∏–ª–∏
netstat -tlnp | grep -E ':(50051|8080|8081)'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ—Ä—Ç 8080 —Å–ª—É—à–∞–µ—Ç –Ω–∞ `127.0.0.1:8080` –∏–ª–∏ `0.0.0.0:8080` (–¥–ª—è health checks)
- –ü–æ—Ä—Ç 50051 —Å–ª—É—à–∞–µ—Ç –Ω–∞ `[::]:50051` –∏–ª–∏ `0.0.0.0:50051` (–¥–ª—è gRPC)
- –ü–æ—Ä—Ç 8081 —Å–ª—É—à–∞–µ—Ç –Ω–∞ `127.0.0.1:8081` –∏–ª–∏ `0.0.0.0:8081` (–¥–ª—è updates)

**–í–∞–∂–Ω–æ:** –≠—Ç–∏ –ø–æ—Ä—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–∞ localhost (127.0.0.1), –Ω–µ –∏–∑–≤–Ω–µ!

**–ï—Å–ª–∏ –ø–æ—Ä—Ç—ã –Ω–µ —Å–ª—É—à–∞—é—Ç:**
- –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ —É–ø–∞–ª
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: `sudo systemctl restart voice-assistant.service`

---

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Python
ps aux | grep python | grep -E '(voice-assistant|main.py)'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–æ—Ü–µ—Å—Å Python –∑–∞–ø—É—â–µ–Ω —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `server/main.py`
- –ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `zombie` –∏–ª–∏ `defunct`

**–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω:**
- –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: `sudo systemctl restart voice-assistant.service`

---

### **4. –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint (–ª–æ–∫–∞–ª—å–Ω–æ)**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl -s http://127.0.0.1:8080/health | python3 -m json.tool
# –∏–ª–∏
curl -s http://127.0.0.1:8080/health
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "status": "ok",
  "latest_version": "1.0.0",
  "latest_build": "1"
}
```

**–ï—Å–ª–∏ endpoint –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ —É–ø–∞–ª
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u voice-assistant.service -n 30`

---

### **5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ (–æ—à–∏–±–∫–∏)
sudo journalctl -u voice-assistant.service --no-pager -n 30 | grep -iE '(error|failed|exception|traceback|critical)'
```

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- –û—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

**–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:**
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: `sudo systemctl restart voice-assistant.service`

---

### **6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
sudo nginx -t

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è gRPC
cat /etc/nginx/sites-available/nexy-grpc | grep -E '(grpc_backend|http_backend|127.0.0.1)'
# –∏–ª–∏
cat /etc/nginx/sites-enabled/nexy-grpc | grep -E '(upstream|127.0.0.1)'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞
- `upstream grpc_backend` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `127.0.0.1:50051`
- `upstream http_backend` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `127.0.0.1:8080`
- `upstream updates_backend` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `127.0.0.1:8081`
- Nginx —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 443 (HTTPS)

**–ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ–≤–µ—Ä–Ω–∞:**
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx: `sudo systemctl reload nginx`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ—Ä—Ç–æ–≤ –∏–∑ Nginx:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ Nginx –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –ø–æ—Ä—Ç–∞–º
curl -s http://127.0.0.1:8080/health | head -5
timeout 2 nc -zv 127.0.0.1 50051 2>&1
```

---

## üîÑ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**

### **–®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞**

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl restart voice-assistant.service

# –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ (5 —Å–µ–∫—É–Ω–¥)
sleep 5

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status voice-assistant.service --no-pager -l | head -15
```

---

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
sleep 2
curl -s http://127.0.0.1:8080/health | python3 -m json.tool
```

**–ï—Å–ª–∏ endpoint –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π endpoint: `curl -sk https://20.151.51.172/health`

**–ï—Å–ª–∏ endpoint –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u voice-assistant.service -n 30`
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

---

### **–®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)**

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx
sudo systemctl reload nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Nginx
sudo systemctl status nginx --no-pager -l | head -10
```

---

## üìä **–ü–æ–ª–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

```bash
#!/bin/bash
echo "üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã 502 Bad Gateway"
echo "========================================"
echo ""

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
echo "1. –°—Ç–∞—Ç—É—Å systemd —Å–µ—Ä–≤–∏—Å–∞:"
sudo systemctl status voice-assistant.service --no-pager -l | head -20
echo ""

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
echo "2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤:"
ss -tlnp 2>/dev/null | grep -E ':(50051|8080|8081)' || netstat -tlnp 2>/dev/null | grep -E ':(50051|8080|8081)'
echo ""

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
echo "3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Python:"
ps aux | grep python | grep -E '(voice-assistant|main.py)' | head -5
echo ""

# 4. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
echo "4. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ (–æ—à–∏–±–∫–∏):"
sudo journalctl -u voice-assistant.service --no-pager -n 30 | grep -iE '(error|failed|exception|traceback|critical)' | tail -15
echo ""

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
echo "5. –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint (–ª–æ–∫–∞–ª—å–Ω–æ):"
curl -s http://127.0.0.1:8080/health 2>&1 | head -5
echo ""

# 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
echo "6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞..."
sudo systemctl restart voice-assistant.service
sleep 5
echo ""

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
echo "7. –°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:"
sudo systemctl status voice-assistant.service --no-pager -l | head -15
echo ""

# 8. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ health
echo "8. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ health:"
sleep 2
curl -s http://127.0.0.1:8080/health | python3 -m json.tool 2>/dev/null || curl -s http://127.0.0.1:8080/health
echo ""

echo "‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
```

---

## üö® **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏**

### **–û—à–∏–±–∫–∞ 1: –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**

**–°–∏–º–ø—Ç–æ–º—ã:**
- `systemctl status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `failed` –∏–ª–∏ `inactive`
- –í –ª–æ–≥–∞—Ö –æ—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u voice-assistant.service -n 50`
2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: `pip install -r requirements.txt`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: `sudo systemctl restart voice-assistant.service`

---

### **–û—à–∏–±–∫–∞ 2: –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç**

**–°–∏–º–ø—Ç–æ–º—ã:**
- `Address already in use` –≤ –ª–æ–≥–∞—Ö
- –ü–æ—Ä—Ç 8080 –∏–ª–∏ 50051 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å, –∑–∞–Ω–∏–º–∞—é—â–∏–π –ø–æ—Ä—Ç
sudo lsof -i :8080
sudo lsof -i :50051

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo kill -9 <PID>
```

---

### **–û—à–∏–±–∫–∞ 3: –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**

**–°–∏–º–ø—Ç–æ–º—ã:**
- `Connection refused` –∏–ª–∏ `Timeout` –≤ –ª–æ–≥–∞—Ö
- –û—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ `config.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: `sudo systemctl restart voice-assistant.service`

---

## üìù **–ß–µ–∫-–ª–∏—Å—Ç**

- [ ] **–°–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–µ–Ω:** `sudo systemctl is-active voice-assistant.service`
- [ ] **–ü–æ—Ä—Ç—ã —Å–ª—É—à–∞—é—Ç:** `ss -tlnp | grep -E ':(50051|8080)'`
- [ ] **–ü—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:** `ps aux | grep python | grep main.py`
- [ ] **Health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç:** `curl -s http://127.0.0.1:8080/health`
- [ ] **–ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö:** `sudo journalctl -u voice-assistant.service -n 30 | grep -i error`
- [ ] **Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞:** `sudo nginx -t`
- [ ] **–ü—É–±–ª–∏—á–Ω—ã–π endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç:** `curl -sk https://20.151.51.172/health`

---

## üîó **–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**

- [SERVER_DEPLOYMENT_GUIDE.md](./SERVER_DEPLOYMENT_GUIDE.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é
- [CURRENT_STATUS_REPORT.md](./CURRENT_STATUS_REPORT.md) - –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞

---

## üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
1. –°–æ–±–µ—Ä–∏—Ç–µ –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏: `sudo journalctl -u voice-assistant.service --no-pager -n 100 > /tmp/server_logs.txt`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `cat config.env`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã: `free -h && df -h`

