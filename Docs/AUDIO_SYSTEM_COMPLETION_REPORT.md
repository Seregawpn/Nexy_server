# –û—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¶–∏–∫–ª–æ–≤ 1 –∏ 2 —É–ª—É—á—à–µ–Ω–∏–π –∞—É–¥–∏–æ—Å–∏—Å—Ç–µ–º—ã

## –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
2025-12-02

## –û–±–∑–æ—Ä

–£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω—ã **–¶–∏–∫–ª 1** (CoreAudio + DeviceChangePublisher) –∏ **–¶–∏–∫–ª 2** (AudioStreamManager) —É–ª—É—á—à–µ–Ω–∏–π –∞—É–¥–∏–æ—Å–∏—Å—Ç–µ–º—ã Nexy.

---

## ‚úÖ –¶–∏–∫–ª 1: CoreAudio + DeviceChangePublisher - –ó–ê–í–ï–†–®–ï–ù

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

#### 1.1 DeviceChangePublisher —Å–æ–∑–¥–∞–Ω ‚úÖ
- **–§–∞–π–ª:** `modules/audio_core/device_change_publisher.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
  - –ï–¥–∏–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä –¥–ª—è INPUT –∏ OUTPUT —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ Core Audio –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
  - Fallback –Ω–∞ polling –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Core Audio
  - –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –≤ EventBus: `device.default_input_changed` / `device.default_output_changed`
  - Debounce –º–µ—Ö–∞–Ω–∏–∑–º (300ms) –¥–ª—è rapid device switch
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (CoreAudio vs polling)

#### 1.2 CoreAudioManager —É–ª—É—á—à–µ–Ω ‚úÖ
- **–§–∞–π–ª:** `modules/speech_playback/macos/core_audio.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ INPUT –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–π (`kAudioHardwarePropertyDefaultInputDevice`)
  - Callback –æ–±—ë—Ä–Ω—É—Ç —á–µ—Ä–µ–∑ `objc.callback` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ INPUT –∏ OUTPUT
  - –ú–µ—Ç–æ–¥ `start_device_notifications()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `device_type` –ø–∞—Ä–∞–º–µ—Ç—Ä

#### 1.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ SimpleModuleCoordinator ‚úÖ
- **–§–∞–π–ª:** `integration/core/simple_module_coordinator.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - DeviceChangePublisherIntegration –¥–æ–±–∞–≤–ª–µ–Ω –≤ `_create_integrations()`
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ 9 (–ø–µ—Ä–µ–¥ voice_recognition –∏ speech_playback)
  - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 1.4 –ü–æ–¥–ø–∏—Å–∫–∞ INPUT/OUTPUT –Ω–∞ —Å–æ–±—ã—Ç–∏—è ‚úÖ
- **VoiceRecognitionIntegration:**
  - –ü–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ `device.default_input_changed`
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `_on_input_device_changed` –≤—ã–∑—ã–≤–∞–µ—Ç `_on_device_changed` –≤ SpeechRecognizer
- **SpeechPlaybackIntegration:**
  - –ü–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ `device.default_output_changed`
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `_on_output_device_changed` –≤—ã–∑—ã–≤–∞–µ—Ç `_switch_output_device` –≤ SequentialSpeechPlayer

#### 1.5 –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ polling ‚úÖ
- **SpeechRecognizer:**
  - AudioDeviceMonitor –æ—Ç–∫–ª—é—á–µ–Ω (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω)
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ DeviceChangePublisher
- **SequentialSpeechPlayer:**
  - OutputMonitorThread –æ—Ç–∫–ª—é—á–µ–Ω (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω)
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ DeviceChangePublisher

---

## ‚úÖ –¶–∏–∫–ª 2: AudioStreamManager - –ó–ê–í–ï–†–®–ï–ù

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

#### 2.1 AudioStreamManager —Å–æ–∑–¥–∞–Ω ‚úÖ
- **–§–∞–π–ª:** `modules/audio_core/stream_manager.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
  - –ï–¥–∏–Ω—ã–π API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è lifecycle PortAudio streams (INPUT –∏ OUTPUT)
  - –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ
  - Lock –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç concurrent –æ–ø–µ—Ä–∞—Ü–∏–π
  - –û–∂–∏–¥–∞–Ω–∏–µ `active=False` –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ—Ç–æ–∫–∞
  - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (2.5—Å –¥–ª—è BT, 0.3—Å –¥–ª—è –æ–±—ã—á–Ω—ã—Ö)
  - Retry –ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
  - –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ -9986/-10851
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –æ—à–∏–±–æ–∫
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

#### 2.2 SpeechRecognizer —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚úÖ
- **–§–∞–π–ª:** `modules/voice_recognition/core/speech_recognizer.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –î–æ–±–∞–≤–ª–µ–Ω `AudioStreamManager(stream_type="input")` –≤ `__init__`
  - –ó–∞–º–µ–Ω–µ–Ω–æ –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ `sd.InputStream()` –Ω–∞ `AudioStreamManager.create_stream()`
  - –ó–∞–º–µ–Ω–µ–Ω–æ –ø—Ä—è–º–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ—Ç–æ–∫–æ–≤ –Ω–∞ `AudioStreamManager.close_stream()`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `asyncio.run_coroutine_threadsafe` –¥–ª—è –≤—ã–∑–æ–≤–∞ async –º–µ—Ç–æ–¥–æ–≤ –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

#### 2.3 SequentialSpeechPlayer —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚úÖ
- **–§–∞–π–ª:** `modules/speech_playback/core/player.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –î–æ–±–∞–≤–ª–µ–Ω `AudioStreamManager(stream_type="output")` –≤ `__init__`
  - –ó–∞–º–µ–Ω–µ–Ω–æ –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ `sd.OutputStream()` –Ω–∞ `AudioStreamManager.create_stream()`
  - –ó–∞–º–µ–Ω–µ–Ω –º–µ—Ç–æ–¥ `_stop_audio_stream()` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `AudioStreamManager.close_stream()`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `asyncio.run_coroutine_threadsafe` –¥–ª—è –≤—ã–∑–æ–≤–∞ async –º–µ—Ç–æ–¥–æ–≤ –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `modules/audio_core/device_change_publisher.py` - –µ–¥–∏–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `modules/audio_core/stream_manager.py` - –º–µ–Ω–µ–¥–∂–µ—Ä PortAudio streams
- `integration/integrations/device_change_publisher_integration.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DeviceChangePublisher
- `tests/test_device_change_publisher.py` - —Ç–µ—Å—Ç—ã DeviceChangePublisher
- `tests/test_audio_stream_manager.py` - —Ç–µ—Å—Ç—ã AudioStreamManager
- `tests/test_core_audio_manager.py` - —Ç–µ—Å—Ç—ã CoreAudioManager
- `tests/test_speech_recognizer_integration.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã SpeechRecognizer
- `tests/test_sequential_speech_player_integration.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã SequentialSpeechPlayer
- `tests/test_device_change_publisher_integration.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã DeviceChangePublisherIntegration
- `scripts/test_audio_system_improvements.py` - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `Docs/AUDIO_SYSTEM_TESTING_REPORT.md` - –æ—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- `Docs/AUDIO_SYSTEM_COMPLETION_REPORT.md` - —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `modules/speech_playback/macos/core_audio.py` - —É–ª—É—á—à–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ INPUT/OUTPUT –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–π
- `modules/voice_recognition/core/speech_recognizer.py` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ AudioStreamManager, –æ—Ç–∫–ª—é—á–µ–Ω —Å—Ç–∞—Ä—ã–π polling
- `modules/speech_playback/core/player.py` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ AudioStreamManager, –æ—Ç–∫–ª—é—á–µ–Ω —Å—Ç–∞—Ä—ã–π polling
- `integration/integrations/voice_recognition_integration.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
- `integration/integrations/speech_playback_integration.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
- `integration/core/simple_module_coordinator.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ DeviceChangePublisherIntegration

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Unit —Ç–µ—Å—Ç—ã:** 49 –ø—Ä–æ–π–¥–µ–Ω–æ, 0 –ø—Ä–æ–≤–∞–ª–µ–Ω–æ
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** 13 –ø—Ä–æ–π–¥–µ–Ω–æ, 0 –ø—Ä–æ–≤–∞–ª–µ–Ω–æ
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã:** 6/6 –ø—Ä–æ–π–¥–µ–Ω–æ

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –£–ª—É—á—à–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ï–¥–∏–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —á–µ—Ä–µ–∑ DeviceChangePublisher
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–º–µ–Ω—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —á–µ—Ä–µ–∑ Core Audio –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PortAudio streams —á–µ—Ä–µ–∑ AudioStreamManager
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ -9986/-10851
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è BT —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞–º–∏
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Å–æ–±—ã—Ç–∏–π —Å–º–µ–Ω—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–º–µ–Ω—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (Core Audio –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º—É (—É—Å—Ç—Ä–∞–Ω–µ–Ω redundant polling)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è BT —É—Å—Ç—Ä–æ–π—Å—Ç–≤

---

## ‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –¶–∏–∫–ª 3: –ï–¥–∏–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä + –∏–∑–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç polling
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω (polling —É–¥–∞–ª–µ–Ω, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)

**–û—Å—Ç–∞–ª–æ—Å—å:**
- ‚è≥ –£–ª—É—á—à–∏—Ç—å debounce –º–µ—Ö–∞–Ω–∏–∑–º –≤ DeviceChangePublisher
- ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚è≥ –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

### –¶–∏–∫–ª 4: Observability + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—á—ë—Ç—á–∏–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ü—Ä–æ–ø–∏—Å–∞—Ç—å invariants –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## ‚úÖ –í—ã–≤–æ–¥—ã

**–¶–∏–∫–ª—ã 1 –∏ 2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω—ã!**

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ DeviceChangePublisher —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ AudioStreamManager —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°—Ç–∞—Ä—ã–π polling –∫–æ–¥ –æ—Ç–∫–ª—é—á–µ–Ω
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é.




