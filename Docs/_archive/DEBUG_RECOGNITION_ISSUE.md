# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã: —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω (Ctrl+N), –Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç. –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ:
- ‚úÖ `voice.recording_stop` –ø—Ä–∏—Ö–æ–¥–∏—Ç
- ‚úÖ –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Google –∑–∞–ø–∏—Å—å
- ‚ùå `‚ö†Ô∏è [Google] –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç –∑–∞–ø–∏—Å–∏ (–Ω—É–ª–µ–≤–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏)`

**–ù–û –≤ –ª–æ–≥–∞—Ö –ù–ï–¢ –∑–∞–ø–∏—Å–µ–π –æ:**
- ‚ùå `üîç [AVF] –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞...`
- ‚ùå `üé§ [Google] –ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ speech_recognition...`
- ‚ùå `üîç [Google] –ü–æ–ª—É—á–µ–Ω —á–∞–Ω–∫ –∞—É–¥–∏–æ`

## üîç –ê–Ω–∞–ª–∏–∑

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. **`voice.recording_start` –Ω–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ –≤ –ª–æ–≥–∞—Ö `LONG_PRESS: voice.recording_start –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ`

2. **`_on_recording_start` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ –≤ –ª–æ–≥–∞—Ö `üé§ [VOICE] _on_recording_start –í–•–û–î`

3. **–£—Å–ª–æ–≤–∏–µ `if self._use_avf and self._avf_engine is not None:` –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ –≤ –ª–æ–≥–∞—Ö `üîç [VOICE] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π: _use_avf=..., _avf_engine=...`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ `‚ö†Ô∏è [VOICE] –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ AVF‚ÜíGoogle –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è`

4. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ `_first_run_in_progress`**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ `‚ö†Ô∏è [VOICE_RECOGNITION] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ - first_run –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ`

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –í `_on_recording_start`:
1. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞ –≤ –º–µ—Ç–æ–¥: `üé§ [VOICE] _on_recording_start –í–•–û–î: event –ø–æ–ª—É—á–µ–Ω`
2. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π: `üîç [VOICE] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π: _use_avf=..., _avf_engine=...`
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã, –ø–æ—á–µ–º—É –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: `‚ö†Ô∏è [VOICE] –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ AVF‚ÜíGoogle –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ...`
4. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ AVF –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: `üîç [AVF] –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞...`
5. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ Google –∑–∞–ø–∏—Å–∏: `üé§ [Google] –ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ speech_recognition...`
6. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: `üîç [Google] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞: sample_rate=..., sample_width=...`
7. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ `listen_in_background`: `üé§ [Google] –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ recognizer.listen_in_background()...`
8. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è `listen_in_background` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ None)

### –í callback `listen_in_background`:
1. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —á–∞–Ω–∫–∞: `üîç [Google] –ü–æ–ª—É—á–µ–Ω —á–∞–Ω–∫ –∞—É–¥–∏–æ #N: X bytes (–≤—Å–µ–≥–æ —á–∞–Ω–∫–æ–≤: N)`
2. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ callback: `‚ùå [Google] –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ –≤ callback: ...`

### –í `_on_recording_stop`:
1. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞ –≤ –º–µ—Ç–æ–¥: `üõë VOICE: _on_recording_stop –í–•–û–î: event=...`
2. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏: `üîç [Google] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏: _use_avf=..., _google_recognizer=..., _google_microphone=...`
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π: `üîç [Google] –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π: _google_stop_listening=...`
4. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø–∏—Å–∏: `üõë [Google] –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è...`
5. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤: `üîç [Google] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤: N —á–∞–Ω–∫–æ–≤`
6. ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞: `–ß–∞–Ω–∫ #N: X bytes, Y.XXs, ZHz`
7. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —á–∞–Ω–∫–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏
8. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º: `‚úÖ [Google] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: X bytes, duration=Y.XXs, sample_rate=ZHz`

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:

- [ ] `üé§ [VOICE] _on_recording_start –í–•–û–î: event –ø–æ–ª—É—á–µ–Ω` - –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è?
- [ ] `üîç [VOICE] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π: _use_avf=..., _avf_engine=...` - –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è?
- [ ] `‚ö†Ô∏è [VOICE] –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ AVF‚ÜíGoogle –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è` - –µ—Å–ª–∏ –µ—Å—Ç—å, –ø–æ—á–µ–º—É?
- [ ] `üîç [AVF] –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞...` - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–∏ AVF?
- [ ] `üé§ [Google] –ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ speech_recognition...` - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–∏ Google –∑–∞–ø–∏—Å—å?
- [ ] `üîç [Google] –ü–æ–ª—É—á–µ–Ω —á–∞–Ω–∫ –∞—É–¥–∏–æ` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ callback?

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω (Ctrl+N)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏






