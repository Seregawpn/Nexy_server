# ‚úÖ –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤: —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üéâ –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

**–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!** –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ:
- ‚úÖ `‚úÖ [Google] –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ: 'how are you doing today...'` (—Å—Ç—Ä–æ–∫–∞ 136)
- ‚úÖ Callback –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ: `üîç [Google] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤: 1 —á–∞–Ω–∫–æ–≤` (—Å—Ç—Ä–æ–∫–∞ 127)
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã: `‚úÖ [Google] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: 174080 bytes` (—Å—Ç—Ä–æ–∫–∞ 130)

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —á–∞–Ω–∫–∞ (–ò–°–ü–†–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞–Ω–∫: `self._google_audio_data = self._google_audio_chunks[-1]`
- –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å –¥–ª–∏–Ω–Ω–∞—è –∏ —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞–Ω–∫–æ–≤

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –¢–µ–ø–µ—Ä—å –≤—Å–µ —á–∞–Ω–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω `AudioData` –æ–±—ä–µ–∫—Ç
- –ï—Å–ª–∏ —á–∞–Ω–∫ –æ–¥–∏–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
- –ï—Å–ª–∏ —á–∞–Ω–∫–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –æ–Ω–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `sr.AudioData(all_raw_data, sample_rate, sample_width)`

### 2. Sample rate 48kHz –≤–º–µ—Å—Ç–æ 16kHz (–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –ª–æ–≥–∞—Ö: `–ß–∞–Ω–∫ #1: 174080 bytes, 1.81s, 48000Hz` (—Å—Ç—Ä–æ–∫–∞ 128)
- Google Speech API —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç 16kHz, –Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–æ—Ç—ã
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `speech_recognition` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å—Å—è

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 48kHz (–≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –ª–æ–≥–∏, –µ—Å–ª–∏ sample_rate != 16000
- Google Speech API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ï—Å–ª–∏ –±—É–¥—É—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–∞—á–µ—Å—Ç–≤–æ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è, –¥–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—ã–π —Ä–µ—Å–µ–º–ø–ª–∏–Ω–≥ –¥–æ 16kHz –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ Google

### 3. –ù–µ—Ç –ª–æ–≥–æ–≤ –æ `_on_recording_start`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –ª–æ–≥–∞—Ö –Ω–µ—Ç `üé§ [VOICE] _on_recording_start –í–•–û–î: event –ø–æ–ª—É—á–µ–Ω`
- –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å –Ω–∞—á–∞–ª–∞—Å—å –î–û —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –ª–æ–≥–∏, –∏–ª–∏ –ª–æ–≥–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞—á–∞–ª–æ –∑–∞–ø–∏—Å–∏

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø–∏—Å–∏ (`_on_recording_stop`)
- –ù–∞—á–∞–ª–æ –∑–∞–ø–∏—Å–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Ä–∞–Ω—å—à–µ (–¥–æ —Å—Ç—Ä–æ–∫–∏ 98 –≤ –ª–æ–≥–∞—Ö)
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω—é—é —á–∞—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞

## üìä –ê–Ω–∞–ª–∏–∑ –ø–æ—Ç–æ–∫–∞ –∏–∑ –ª–æ–≥–æ–≤

1. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–ø–∏—Å–∏** (—Å—Ç—Ä–æ–∫–∞ 98):
   - `üõë VOICE: _on_recording_stop –í–•–û–î: event=...`
   - `üîç [Google] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏: _use_avf=True, _google_recognizer=initialized, _google_microphone=initialized`

2. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ Google –∑–∞–ø–∏—Å–∏** (—Å—Ç—Ä–æ–∫–∏ 107-109):
   - `üõë [Google] –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è...`
   - `‚úÖ [Google] –§–æ–Ω–æ–≤–æ–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ`

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 127-130):
   - `üîç [Google] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤: 1 —á–∞–Ω–∫–æ–≤`
   - `–ß–∞–Ω–∫ #1: 174080 bytes, 1.81s, 48000Hz`
   - `‚úÖ [Google] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: 174080 bytes`

4. **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ** (—Å—Ç—Ä–æ–∫–∏ 131-136):
   - `üé§ [Google] –ù–∞—á–∏–Ω–∞–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ: language=en-US, audio_size=174080 bytes, sample_rate=48000Hz, sample_width=2`
   - `‚úÖ [Google] –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ: 'how are you doing today...'`

5. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞** (—Å—Ç—Ä–æ–∫–∞ 138):
   - `üìä [Google] –ü–µ—Ä–µ–¥–∞—ë–º device_info –≤ —Å–æ–±—ã—Ç–∏–µ: device=System Default Input`
   - `voice.recognition_completed` –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ

## ‚úÖ –í—ã–≤–æ–¥—ã

1. **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!** –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
2. **Callback —Ä–∞–±–æ—Ç–∞–µ—Ç!** –î–∞–Ω–Ω—ã–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ `_google_audio_chunks`
3. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —á–∞–Ω–∫–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** - —Ç–µ–ø–µ—Ä—å –≤—Å–µ —á–∞–Ω–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π
4. **Sample rate 48kHz —Ä–∞–±–æ—Ç–∞–µ—Ç**, –Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è –±—É–¥—É—â–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. ‚úÖ –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∞–Ω–∫–æ–≤ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ sample_rate != 16kHz
3. ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞—É–¥–∏–æ –ø–µ—Ä–µ–¥ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ï—Å–ª–∏ –±—É–¥—É—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–∞—á–µ—Å—Ç–≤–æ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:**
   - –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—ã–π —Ä–µ—Å–µ–º–ø–ª–∏–Ω–≥ –¥–æ 16kHz –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ Google
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `scipy.signal.resample` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É

2. **–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ —Å—Ä–∞–∑—É –≤ 16kHz —á–µ—Ä–µ–∑ `sr.Microphone` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `speech_recognition` –Ω–∞ –∑–∞–ø–∏—Å—å –≤ 16kHz

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –°–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ –æ sample_rate –≤ –ª–æ–≥–∞—Ö
   - –ï—Å–ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ —Å 48kHz - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å






