# ๐ Permission Monitoring - ะะพะฒะฐั ััะฝะบัะธั ะพััะปะตะถะธะฒะฐะฝะธั ัะฐะทัะตัะตะฝะธะน

**ะะตััะธั**: 1.1
**ะะฐัะฐ**: 2025-10-30
**ะกัะฐััั**: ะะตะฐะปะธะทะพะฒะฐะฝะพ

---

## ๐ ะัะพะฑะปะตะผะฐ

### ะััะพะดะฝะฐั ัะธััะฐัะธั:

ะะพัะปะต ะฟะตัะฒะพะณะพ ะทะฐะฟััะบะฐ ะฟัะธะปะพะถะตะฝะธั ัะพะทะดะฐัััั ัะปะฐะณ `permissions_first_run_completed.flag`, ะธ FirstRunPermissionsIntegration ะฟะตัะตััะฐัั ัะฐะฑะพัะฐัั.

**ะัะพะฑะปะตะผะฝัะน ััะตะฝะฐัะธะน**:
1. ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะฟััะบะฐะตั Nexy ะฒ ะฟะตัะฒัะน ัะฐะท
2. FirstRunPermissionsIntegration ะทะฐะฟัะฐัะธะฒะฐะตั ัะฐะทัะตัะตะฝะธั
3. ะะพะปัะทะพะฒะฐัะตะปั **ะพัะบะปะพะฝัะตั** ัะฐะทัะตัะตะฝะธั ะธะปะธ ะทะฐะบััะฒะฐะตั ะดะธะฐะปะพะณ
4. ะคะปะฐะณ `permissions_first_run_completed.flag` ัะพะทะดะฐัััั (ัััะพะบะฐ 133 ะธะปะธ 164)
5. ะัะธ ัะปะตะดัััะธั ะทะฐะฟััะบะฐั FirstRunPermissions **ะฟัะพะฟััะบะฐะตั** ะฟัะพัะตะดััั (ัััะพะบะฐ 110-112)
6. ะะพะปัะทะพะฒะฐัะตะปั ะฟัะตะดะพััะฐะฒะปัะตั ัะฐะทัะตัะตะฝะธั ะฒัััะฝัั ัะตัะตะท System Settings
7. โ **ะัะธะปะพะถะตะฝะธะต ะะ ะฟะตัะตะทะฐะฟััะบะฐะตััั** โ ัะฐะทัะตัะตะฝะธั ะฝะต ะฟัะธะผะตะฝััััั!

### ะะพัะตะผั ััะพ ะฟัะพะธััะพะดะธะปะพ:

```python
# first_run_permissions_integration.py:110-112
if self.flag_file.exists():
    logger.info("โ [FIRST_RUN_PERMISSIONS] ะะตัะฒัะน ะทะฐะฟััะบ ัะถะต ะทะฐะฒะตัััะฝ - ะฟัะพะฟััะบะฐะตะผ")
    return True  # โ ะััะพะด ะฑะตะท ะฟัะฑะปะธะบะฐัะธะธ ัะพะฑััะธะน!
```

**ะกะปะตะดััะฒะธั**:
- ะกะพะฑััะธะต `permissions.first_run_completed` ะะ ะฟัะฑะปะธะบัะตััั
- PermissionRestartIntegration ะะ ะฟะพะปััะฐะตั ัะฒะตะดะพะผะปะตะฝะธะต
- ะะตัะตะทะฐะฟััะบ ะะ ะฟัะพะธััะพะดะธั
- ะะพะปัะทะพะฒะฐัะตะปั ะดัะผะฐะตั ััะพ ัะฐะทัะตัะตะฝะธั ะฝะต ัะฐะฑะพัะฐัั

---

## โ ะะตัะตะฝะธะต

### ะะพะฑะฐะฒะปะตะฝ ะผะตัะฐะฝะธะทะผ ะผะพะฝะธัะพัะธะฝะณะฐ ัะฐะทัะตัะตะฝะธะน

**PermissionRestartIntegration** ัะตะฟะตัั ะธะผะตะตั **ะดะฒะฐ ัะตะถะธะผะฐ ัะฐะฑะพัั**:

#### ะะตะถะธะผ 1: ะะตัะฒัะน ะทะฐะฟััะบ (ัะปะฐะณะฐ ะฝะตั)
```
FirstRunPermissions โ ัะพะฑััะธะต first_run_completed โ ะะตัะตะทะฐะฟััะบ
```

#### ะะตะถะธะผ 2: ะะพััะพัะฝะฝัะน ะผะพะฝะธัะพัะธะฝะณ (ัะปะฐะณ ัััะตััะฒัะตั) ๐
```
PermissionRestartIntegration โ polling ะบะฐะถะดัะต 3 ัะตะบ โ ะพะฑะฝะฐััะถะตะฝะพ ะธะทะผะตะฝะตะฝะธะต โ ะะตัะตะทะฐะฟััะบ
```

### ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ PermissionRestartIntegration._do_start()        โ
โ                                                 โ
โ  if first_run_flag.exists():                    โ
โ      await _start_permission_monitoring() โNEW  โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ _permission_monitoring_loop()             ๐    โ
โ                                                 โ
โ  while monitoring_enabled:                      โ
โ      await sleep(3.0)                           โ
โ      await _check_permission_changes()          โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ _check_permission_changes()               ๐    โ
โ                                                 โ
โ  current = check_accessibility_status()         โ
โ  if current != last_known:                      โ
โ      if current == GRANTED:                     โ
โ          _publish_synthetic_permission_event()  โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ _publish_synthetic_permission_event()     ๐    โ
โ                                                 โ
โ  transitions = detector.process_event(...)      โ
โ  for transition in transitions:                 โ
โ      await _handle_transition(transition)       โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ RestartScheduler.maybe_schedule_restart()       โ
โ                                                 โ
โ  โ ะะฑััะฝะฐั ะปะพะณะธะบะฐ ะฟะตัะตะทะฐะฟััะบะฐ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ะะตะฐะปะธะทะฐัะธั

### ะะทะผะตะฝัะฝะฝัะต ัะฐะนะปั

#### 1. `integration/integrations/permission_restart_integration.py`

**ะะพะฑะฐะฒะปะตะฝะฝัะต ะฟะพะปั** (ัััะพะบะธ 74-77):
```python
# Permission monitoring (for detecting changes after first run)
self._monitoring_task: Optional[asyncio.Task] = None
self._monitoring_enabled = False
self._last_known_statuses: Dict[PermissionType, PermissionStatus] = {}
```

**ะะพะฑะฐะฒะปะตะฝะฝัะต ะผะตัะพะดั**:
- `_start_permission_monitoring()` (ัััะพะบะธ 295-322) - ะะฐะฟััะบ ะผะพะฝะธัะพัะธะฝะณะฐ
- `_stop_permission_monitoring()` (ัััะพะบะธ 324-339) - ะััะฐะฝะพะฒะบะฐ ะผะพะฝะธัะพัะธะฝะณะฐ
- `_permission_monitoring_loop()` (ัััะพะบะธ 341-365) - ะคะพะฝะพะฒัะน ัะธะบะป polling
- `_check_permission_changes()` (ัััะพะบะธ 367-413) - ะัะพะฒะตัะบะฐ ะธะทะผะตะฝะตะฝะธะน
- `_publish_synthetic_permission_event()` (ัััะพะบะธ 415-444) - ะัะฑะปะธะบะฐัะธั ัะพะฑััะธะน

**ะะทะผะตะฝะตะฝะธั ะฒ `_do_start()`** (ัััะพะบะธ 120-124):
```python
# ะะฐะฟััะบะฐะตะผ ะผะพะฝะธัะพัะธะฝะณ ัะฐะทัะตัะตะฝะธะน ะตัะปะธ ัะปะฐะณ ะฟะตัะฒะพะณะพ ะทะฐะฟััะบะฐ ัััะตััะฒัะตั
# (ั.ะต. ะฟะตัะฒัะน ะทะฐะฟััะบ ัะถะต ะฑัะป ะทะฐะฒะตัััะฝ, ะฝะพ ะฝัะถะฝะพ ัะปะตะดะธัั ะทะฐ ะธะทะผะตะฝะตะฝะธัะผะธ)
if self._first_run_flag.exists():
    await self._start_permission_monitoring()
    logger.info("[PERMISSION_RESTART] Permission monitoring started (post first-run)")
```

**ะะทะผะตะฝะตะฝะธั ะฒ `_do_stop()`** (ัััะพะบะฐ 133):
```python
await self._stop_permission_monitoring()
```

#### 2. `Docs/PERMISSION_RESTART_LOGIC.md`

**ะะพะฑะฐะฒะปะตะฝั ัะฐะทะดะตะปั**:
- ะะฟะธัะฐะฝะธะต ะดะฒัั ัะตะถะธะผะพะฒ ัะฐะฑะพัั (ัััะพะบะธ 84-102)
- ะขะฐะฑะปะธัะฐ Runtime State ั ะฝะพะฒัะผะธ ัะปะฐะณะฐะผะธ (ัััะพะบะธ 159-161)
- ะะตัะฐะฝะธะทะผ ะผะพะฝะธัะพัะธะฝะณะฐ ัะฐะทัะตัะตะฝะธะน (ัััะพะบะธ 163-188)

#### 3. `tests/test_permission_monitoring.py` ๐

ะะพะฒัะน ัะตััะพะฒัะน ัะบัะธะฟั ะดะปั ะฟัะพะฒะตัะบะธ ะผะตัะฐะฝะธะทะผะฐ ะผะพะฝะธัะพัะธะฝะณะฐ:
- ะะฐะฟััะบะฐะตั polling ะบะฐะถะดัะต 3 ัะตะบัะฝะดั
- ะะพะบะฐะทัะฒะฐะตั ัะตะบััะธะต ััะฐัััั ัะฐะทัะตัะตะฝะธะน
- ะัะฒะพะดะธั ัะฒะตะดะพะผะปะตะฝะธั ะฟัะธ ะธะทะผะตะฝะตะฝะธัั
- ะะพะผะพะณะฐะตั ัะตััะธัะพะฒะฐัั ะปะพะณะธะบั ะฒัััะฝัั

---

## ๐ ะะฐัะฐะผะตััั ะผะพะฝะธัะพัะธะฝะณะฐ

| ะะฐัะฐะผะตัั | ะะฝะฐัะตะฝะธะต | ะะดะต ะพะฟัะตะดะตะปะตะฝะพ |
|----------|----------|---------------|
| **ะะฝัะตัะฒะฐะป ะฟัะพะฒะตัะบะธ** | 3.0 ัะตะบัะฝะดั | `_permission_monitoring_loop()` ัััะพะบะฐ 348 |
| **ะััะปะตะถะธะฒะฐะตะผัะต ัะฐะทัะตัะตะฝะธั** | `accessibility`, `input_monitoring` | `_check_permission_changes()` ัััะพะบะธ 371-372 |
| **ะฃัะปะพะฒะธะต ะฐะบัะธะฒะฐัะธะธ** | ะคะปะฐะณ `permissions_first_run_completed.flag` ัััะตััะฒัะตั | `_do_start()` ัััะพะบะฐ 122 |
| **ะัะฑะปะธะบะฐัะธั ัะพะฑััะธะน** | ะขะพะปัะบะพ ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ะฝะฐ `GRANTED` | ัััะพะบะธ 388, 405 |

---

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะะฒัะพะผะฐัะธัะตัะบะธะน ัะตัั

ะะฐะฟัััะธัะต ัะตััะพะฒัะน ัะบัะธะฟั:

```bash
python3 tests/test_permission_monitoring.py
```

**ะะฝััััะบัะธะธ**:
1. ะกะบัะธะฟั ะฟะพะบะฐะถะตั ะฝะฐัะฐะปัะฝะพะต ัะพััะพัะฝะธะต ัะฐะทัะตัะตะฝะธะน
2. ะัะบัะพะนัะต System Settings โ Privacy & Security โ Accessibility
3. ะะบะปััะธัะต/ะฒัะบะปััะธัะต Nexy.app
4. ะะฐะฑะปัะดะฐะนัะต ะบะฐะบ ัะบัะธะฟั ะพะฑะฝะฐััะถะธะฒะฐะตั ะธะทะผะตะฝะตะฝะธั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
5. Ctrl+C ะดะปั ะพััะฐะฝะพะฒะบะธ

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด**:
```
======================================================================
๐ ะขะะกะข ะะะะะขะะะะะะ ะะะะะะจะะะะ
======================================================================

๐ ะะฐัะฐะปัะฝะพะต ัะพััะพัะฝะธะต:
   โข Accessibility:      not_determined
   โข Input Monitoring:   not_determined

๐ ะะฐัะธะฝะฐะตะผ ะผะพะฝะธัะพัะธะฝะณ (ะฟัะพะฒะตัะบะฐ ะบะฐะถะดัะต 3 ัะตะบัะฝะดั)...

[1] ะัะพะฒะตัะบะฐ ะฒัะฟะพะปะฝะตะฝะฐ... OK (ะฑะตะท ะธะทะผะตะฝะตะฝะธะน)
[2] ะัะพะฒะตัะบะฐ ะฒัะฟะพะปะฝะตะฝะฐ... OK (ะฑะตะท ะธะทะผะตะฝะตะฝะธะน)
[3] ะัะพะฒะตัะบะฐ ะฒัะฟะพะปะฝะตะฝะฐ...
======================================================================
๐ ะะะะะะะะะ ะะะะะะฃะะะะ: Accessibility
   ะัะปะพ:   not_determined
   ะกัะฐะปะพ:  granted
   โ ะะฐะทัะตัะตะฝะธะต ะะะะะะกะขะะะะะะ โ ะะพะปะถะตะฝ ะฑััั ะฟะตัะตะทะฐะฟััะบ!
======================================================================
```

### ะััะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต ะฒ ะฟัะธะปะพะถะตะฝะธะธ

**ะกัะตะฝะฐัะธะน 1: ะัะบะฐะท ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต**

1. ะฃะดะฐะปะธัะต ัะปะฐะณ: `rm -f ~/Library/Application\ Support/Nexy/permissions_first_run_completed.flag`
2. ะะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต
3. **ะัะบะปะพะฝะธัะต** ัะฐะทัะตัะตะฝะธั (ะธะปะธ ะทะฐะบัะพะนัะต ะดะธะฐะปะพะณ)
4. ะคะปะฐะณ ัะพะทะดะฐัััั, ะฟัะธะปะพะถะตะฝะธะต ะฟัะพะดะพะปะถะฐะตั ัะฐะฑะพัะฐัั
5. ะัะบัะพะนัะต System Settings โ Privacy & Security
6. ะัะตะดะพััะฐะฒััะต Accessibility ะธ Input Monitoring ะฒัััะฝัั
7. โ **ะัะธะปะพะถะตะฝะธะต ะดะพะปะถะฝะพ ะฟะตัะตะทะฐะฟัััะธัััั ะฒ ัะตัะตะฝะธะต 3-6 ัะตะบัะฝะด!**

**ะกัะตะฝะฐัะธะน 2: ะะพะฒัะพัะฝะพะต ะฟัะตะดะพััะฐะฒะปะตะฝะธะต**

1. ะััะฐะฒััะต ัะปะฐะณ ะฝะฐ ะผะตััะต
2. ะัะบัะพะนัะต System Settings โ Privacy & Security โ Accessibility
3. ะฃะฑะตัะธัะต ะณะฐะปะพัะบั ั Nexy.app
4. ะะพััะฐะฒััะต ะณะฐะปะพัะบั ะพะฑัะฐัะฝะพ
5. โ **ะัะธะปะพะถะตะฝะธะต ะดะพะปะถะฝะพ ะฟะตัะตะทะฐะฟัััะธัััั ะฒ ัะตัะตะฝะธะต 3-6 ัะตะบัะฝะด!**

---

## ๐ ะะพะณะธัะพะฒะฐะฝะธะต

### ะะพะฒัะต ะปะพะณ-ัะพะพะฑัะตะฝะธั

**ะัะธ ะทะฐะฟััะบะต ะผะพะฝะธัะพัะธะฝะณะฐ**:
```
[PERMISSION_RESTART] Initial permission state: accessibility=not_determined, input_monitoring=not_determined
[PERMISSION_RESTART] Permission monitoring task started
[PERMISSION_RESTART] Permission monitoring started (post first-run)
```

**ะัะธ ะพะฑะฝะฐััะถะตะฝะธะธ ะธะทะผะตะฝะตะฝะธั**:
```
[PERMISSION_RESTART] Accessibility status changed: not_determined โ granted
[PERMISSION_RESTART] Publishing synthetic event: accessibility not_determined โ granted
[PERMISSION_RESTART] Restart scheduled (reason=Critical permissions granted, permissions=['accessibility'])
```

**ะัะธ ะพััะฐะฝะพะฒะบะต**:
```
[PERMISSION_RESTART] Permission monitoring stopped
```

---

## ๐ ะัะปะฐะดะบะฐ

### ะัะพะฒะตัะบะฐ ััะพ ะผะพะฝะธัะพัะธะฝะณ ัะฐะฑะพัะฐะตั

```bash
# ะกะผะพััะธะผ ะปะพะณะธ ะฟัะธะปะพะถะตะฝะธั
tail -f ~/Library/Logs/Nexy/nexy.log | grep PERMISSION_RESTART
```

ะะพะปะถะฝั ะฒะธะดะตัั:
```
[PERMISSION_RESTART] Permission monitoring task started
[PERMISSION_RESTART] Initial permission state: ...
```

### ะัะพะฒะตัะบะฐ ััะฐัััะฐ ัะปะฐะณะฐ

```bash
ls -la ~/Library/Application\ Support/Nexy/permissions_first_run_completed.flag
```

- ะัะปะธ ัะฐะนะป **ัััะตััะฒัะตั** โ ะผะพะฝะธัะพัะธะฝะณ ะดะพะปะถะตะฝ ะฑััั **ะฐะบัะธะฒะตะฝ**
- ะัะปะธ ัะฐะนะปะฐ **ะฝะตั** โ ัะฐะฑะพัะฐะตั FirstRunPermissions

### ะัะพะฒะตัะบะฐ ัะตะบััะตะณะพ ััะฐัััะฐ ัะฐะทัะตัะตะฝะธะน

```python
from modules.permissions.first_run.status_checker import *

print(f"Accessibility: {check_accessibility_status()}")
print(f"Input Monitoring: {check_input_monitoring_status()}")
```

---

## โ๏ธ ะะทะฒะตััะฝัะต ะพะณัะฐะฝะธัะตะฝะธั

1. **ะะฝัะตัะฒะฐะป 3 ัะตะบัะฝะดั** - ะผะพะถะตั ะฑััั ะทะฐะผะตัะฝะฐั ะทะฐะดะตัะถะบะฐ ะผะตะถะดั ะฟัะตะดะพััะฐะฒะปะตะฝะธะตะผ ัะฐะทัะตัะตะฝะธั ะธ ะฟะตัะตะทะฐะฟััะบะพะผ
2. **ะขะพะปัะบะพ GRANTED ัะพะฑััะธั** - ะพััะปะตะถะธะฒะฐัััั ัะพะปัะบะพ ะฟะตัะตัะพะดั ะฒ ัะพััะพัะฝะธะต GRANTED
3. **ะขะพะปัะบะพ 2 ัะฐะทัะตัะตะฝะธั** - ะผะพะฝะธัะพััััั ัะพะปัะบะพ `accessibility` ะธ `input_monitoring` (ะบัะธัะธัะตัะบะธะต ะดะปั ัะฐะฑะพัั)
4. **Polling overhead** - ัะพะฝะพะฒะฐั ะทะฐะดะฐัะฐ ะฒัะฟะพะปะฝัะตั ัะธััะตะผะฝัะต ะฒัะทะพะฒั ะบะฐะถะดัะต 3 ัะตะบัะฝะดั

---

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

**ะะตััััั**:
- CPU: ~0.01% (ะฟัะพะฒะตัะบะฐ ัะฐะท ะฒ 3 ัะตะบัะฝะดั)
- Memory: +1 MB (asyncio Task + Dict ั 2 ัะปะตะผะตะฝัะฐะผะธ)
- ะกะธััะตะผะฝัะต ะฒัะทะพะฒั: 2 ะฟัะพะฒะตัะบะธ ัะฐะทัะตัะตะฝะธะน ะบะฐะถะดัะต 3 ัะตะบัะฝะดั

**ะะฟัะธะผะธะทะฐัะธั**:
- ะัะฟะพะปัะทัะตััั asyncio.sleep() - ะฝะต ะฑะปะพะบะธััะตั event loop
- ะัะพะฒะตัะบะธ ะฒัะฟะพะปะฝััััั ัะพะปัะบะพ ะดะปั ะบัะธัะธัะตัะบะธั ัะฐะทัะตัะตะฝะธะน
- ะกะพะฑััะธั ะฟัะฑะปะธะบััััั ัะพะปัะบะพ ะฟัะธ ัะตะฐะปัะฝัั ะธะทะผะตะฝะตะฝะธัั

---

## ๐ ะกะฒัะทะฐะฝะฝัะต ะดะพะบัะผะตะฝัั

- [PERMISSION_RESTART_LOGIC.md](./PERMISSION_RESTART_LOGIC.md) - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะปะพะณะธะบะธ ะฟะตัะตะทะฐะฟััะบะฐ
- [PERMISSION_RESTART_TEST_SCENARIOS.md](../tests/PERMISSION_RESTART_TEST_SCENARIOS.md) - ะกัะตะฝะฐัะธะธ ัะตััะธัะพะฒะฐะฝะธั
- [test_permission_monitoring.py](../tests/test_permission_monitoring.py) - ะขะตััะพะฒัะน ัะบัะธะฟั
- [test_permission_restart_logic.py](../tests/test_permission_restart_logic.py) - Unit-ัะตััั

---

## โ ะงะตะบ-ะปะธัั ะณะพัะพะฒะฝะพััะธ

- [x] ะะตะฐะปะธะทะพะฒะฐะฝ ะผะตัะฐะฝะธะทะผ ะผะพะฝะธัะพัะธะฝะณะฐ
- [x] ะะพะฑะฐะฒะปะตะฝะพ ะปะพะณะธัะพะฒะฐะฝะธะต
- [x] ะกะพะทะดะฐะฝะฐ ะดะพะบัะผะตะฝัะฐัะธั
- [x] ะกะพะทะดะฐะฝ ัะตััะพะฒัะน ัะบัะธะฟั
- [x] ะัะพะฒะตัะตะฝ ัะธะฝัะฐะบัะธั Python
- [ ] ะัะพัะตััะธัะพะฒะฐะฝะพ ะฒ ัะตะฐะปัะฝะพะผ ะฟัะธะปะพะถะตะฝะธะธ
- [ ] ะัะพะฒะตัะตะฝั edge cases
- [ ] ะะพะฑะฐะฒะปะตะฝั unit-ัะตััั ะดะปั ะฝะพะฒัั ะผะตัะพะดะพะฒ

---

## ๐ฏ ะกะปะตะดัััะธะต ัะฐะณะธ

1. **ะขะตััะธัะพะฒะฐะฝะธะต** - ะะฐะฟัััะธัั ะฟัะธะปะพะถะตะฝะธะต ะธ ะฟัะพะฒะตัะธัั ะฒัะต ััะตะฝะฐัะธะธ
2. **Unit-ัะตััั** - ะะพะฑะฐะฒะธัั ัะตััั ะดะปั ะฝะพะฒัั ะผะตัะพะดะพะฒ ะผะพะฝะธัะพัะธะฝะณะฐ
3. **ะะพะฝัะธะณััะฐัะธั** - ะะพะท๏ฟฝ๏ฟฝะพะถะฝะพ ะดะพะฑะฐะฒะธัั `monitoring_interval` ะฒ config
4. **ะะฟัะธะผะธะทะฐัะธั** - ะะฐััะผะพััะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธะต macOS Distributed Notifications ะฒะผะตััะพ polling
