# Web Search Keywords + Tests

## Метаданные
- Ассистент: codex
- Тип: analysis
- Дата: 2026-02-03
- ID (INS-###): INS-005

## Diagnosis
Фильтрация intent для web search была узкой и не покрывала распространённые запросы (цены, погода, сравнения). Требовалось расширить ключевые слова и подтвердить тестами.

## Root Cause
Отсутствие списка триггеров для типовых запросов о фактах/новостях приводило к пропуску web search.

## Optimal Fix
Расширить набор ключевых слов и regex-триггеров в TextProcessor и подтвердить через pytest.

## Verification
pytest -q: 71 passed.

## Запрос/цель
Добавить больше ключевых слов и протестировать.

## Контекст
- Файлы: server/modules/text_processing/core/text_processor.py
- Документы: Docs/ARCHITECTURE_OVERVIEW.md, Docs/PROJECT_REQUIREMENTS.md
- Ограничения: без изменения API контрактов

## Решения/выводы
- Расширены триггеры для web search (цены, сравнение, погода, курсы и т.д.).
- Тесты pytest прошли.

## Открытые вопросы
- Нужны ли отдельные триггеры под домены (финансы/медицина) с обязательным search?

## Следующие шаги
- Проверить поведение на реальных запросах в логах.
