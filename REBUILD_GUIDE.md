# üîÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ Nexy —Å –Ω—É–ª—è

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-11  
**–¶–µ–ª—å:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å—Ç–∞—Ä—ã—Ö —Å–±–æ—Ä–æ–∫ –∏ TCC –∫—ç—à–∞

---

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É, –µ—Å–ª–∏:
- ‚úÖ –ò–∑–º–µ–Ω–∏–ª–∏ Bundle ID
- ‚úÖ –ù–∞–±–ª—é–¥–∞–µ—Ç–µ –æ—à–∏–±–∫–∏ TCC `"failed to find Application URL"`
- ‚úÖ –î–∏–∞–ª–æ–≥–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è
- ‚úÖ –•–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —á–∏—Å—Ç—ã–π CDHash –¥–ª—è notarization
- ‚úÖ –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ entitlements –∏–ª–∏ Info.plist
- ‚úÖ –ü–µ—Ä–µ–¥ —Ñ–∏–Ω–∞–ª—å–Ω—ã–º —Ä–µ–ª–∏–∑–æ–º

---

## üìã –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç 13 —ç—Ç–∞–ø–æ–≤:

1. **–û—á–∏—Å—Ç–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - –£–¥–∞–ª—è–µ—Ç `build/`, `dist/`
   - –£–¥–∞–ª—è–µ—Ç `/Applications/Nexy.app`
   - –†–∞–∑–º–æ–Ω—Ç–∏—Ä—É–µ—Ç DMG
   - –û—á–∏—â–∞–µ—Ç Python –∫—ç—à

2. **–°–±—Ä–æ—Å TCC —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π**
   - –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ –¥–ª—è `com.nexy.assistant`
   - –û—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è `Nexy`, `com.sergiyzasorin.nexy.voiceassistant`
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π TCC –±–∞–∑–æ–π

3. **–°–±—Ä–æ—Å Launch Services –∫—ç—à–∞**
   - –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å `-kill -r`
   - –û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã

4. **–°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ PyInstaller**
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç `packaging/build_final.sh`
   - –õ–æ–≥–∏—Ä—É–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

5-10. **–ü–æ–¥–ø–∏—Å—å –∏ Notarization**
   - –ü–æ–¥–ø–∏—Å—å .app —Å entitlements
   - Notarization .app —á–µ—Ä–µ–∑ Apple
   - Staple .app
   - –°–æ–∑–¥–∞–Ω–∏–µ PKG
   - Notarization PKG
   - Staple PKG

11. **(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) DMG**
   - –°–æ–∑–¥–∞–Ω–∏–µ, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `build_final.sh`

12. **–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ spctl**
   - `spctl --assess` –¥–ª—è .app
   - `spctl --assess --type install` –¥–ª—è .pkg
   - `codesign --verify --deep --strict`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ Info.plist

13. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PKG —á–µ—Ä–µ–∑ `installer`
   - –ü–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Launch Services
   - –ó–∞–ø—É—Å–∫ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∏ TCC —Å–æ–±—ã—Ç–∏–π

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:

```bash
cd /Users/sergiyzasorin/Development/Nexy/client
./rebuild_from_scratch.sh
```

–°–∫—Ä–∏–ø—Ç **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π** - –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å –ø–∞—É–∑—ã –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —ç—Ç–∞–ø–∞—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

### –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º:

```bash
yes "" | ./rebuild_from_scratch.sh
```

(–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞)

---

## ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –≠—Ç–∞–ø | –í—Ä–µ–º—è |
|------|-------|
| –û—á–∏—Å—Ç–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è | 1-2 –º–∏–Ω |
| –°–±—Ä–æ—Å TCC –∏ Launch Services | 1 –º–∏–Ω |
| –°–±–æ—Ä–∫–∞ PyInstaller | 5-7 –º–∏–Ω |
| –ü–æ–¥–ø–∏—Å—å .app | 30 —Å–µ–∫ |
| Notarization .app | 3-5 –º–∏–Ω |
| –°–æ–∑–¥–∞–Ω–∏–µ PKG | 1 –º–∏–Ω |
| Notarization PKG | 3-5 –º–∏–Ω |
| –§–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ | 1 –º–∏–Ω |
| **–ò–¢–û–ì–û** | **15-20 –º–∏–Ω** |

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞:

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         üìã –ò–¢–û–ì–û–í–´–ô –û–¢–ß–Å–¢                                ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–ê–†–¢–ï–§–ê–ö–¢–´:

   ‚úÖ dist/Nexy.app
   ‚úÖ dist/Nexy.pkg
   ‚úÖ dist/Nexy.dmg (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–†–û–í–ï–†–ö–ò:

   ‚úÖ spctl .app
   ‚úÖ spctl .pkg
   ‚úÖ codesign --verify
   ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ /Applications
   ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ (PID: 12345)
```

### –í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:

```
‚úÖ –í—Å–µ macOS —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
üîê –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π...
```

### –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
‚ùå tccd: failed to find Application URL
‚ùå errAETimeout
‚ùå macOS —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å:

```bash
# –°–º–æ—Ç—Ä–∏–º –ø–æ–ª–Ω—ã–π –ª–æ–≥
cat rebuild_logs/rebuild_YYYYMMDD_HHMMSS.log

# –°–º–æ—Ç—Ä–∏–º –ª–æ–≥ build_final.sh
cat rebuild_logs/build_YYYYMMDD_HHMMSS.log

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ PyInstaller
grep -i error rebuild_logs/build_YYYYMMDD_HHMMSS.log
```

### –ï—Å–ª–∏ notarization –Ω–µ –ø—Ä–æ—à–ª–∞:

```bash
# –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ notarization
xcrun notarytool log <submission-id> \
  --keychain-profile NexyNotary \
  notarization_log.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–∞–∑–∞
cat notarization_log.json | jq '.issues'
```

### –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–ª–æ:

```bash
# Crash report
ls -lt ~/Library/Logs/DiagnosticReports/Nexy*.crash | head -1
cat $(ls -t ~/Library/Logs/DiagnosticReports/Nexy*.crash | head -1)

# –õ–æ–≥ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
cat /tmp/nexy_first_launch.log

# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
tail -100 ~/Library/Application\ Support/Nexy/logs/*.log
```

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–∞:
- macOS 13.0+
- Xcode Command Line Tools
- Python 3.11+
- –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (sudo)

### Credentials:
- Developer ID Application certificate (–¥–ª—è –ø–æ–¥–ø–∏—Å–∏ .app)
- Developer ID Installer certificate (–¥–ª—è –ø–æ–¥–ø–∏—Å–∏ .pkg)
- Keychain profile `NexyNotary` –¥–ª—è notarization

### –ü—Ä–æ–≤–µ—Ä–∫–∞ credentials:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
security find-identity -v -p codesigning

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å keychain profile
xcrun notarytool history --keychain-profile NexyNotary

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å sudo –¥–æ—Å—Ç—É–ø
sudo -v
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### 1. System Integrity Protection (SIP)

–°–∏—Å—Ç–µ–º–Ω–∞—è TCC –±–∞–∑–∞ (`/Library/Application Support/com.apple.TCC/TCC.db`) –∑–∞—â–∏—â–µ–Ω–∞ SIP –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º SIP (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

–°–∫—Ä–∏–ø—Ç:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sudo tccutil reset` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –ü—ã—Ç–∞–µ—Ç—Å—è –æ—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –±–∞–∑—É, –Ω–æ –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ SIP –∑–∞—â–∏—â–∞–µ—Ç –±–∞–∑—É

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –Ω–µ –º–µ—à–∞–µ—Ç —Ä–∞–±–æ—Ç–µ!**

### 2. Launch Services –∫—ç—à

–ö–æ–º–∞–Ω–¥–∞ `lsregister -kill -r` –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Å–µ –±–∞–∑—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Å–∏—Å—Ç–µ–º–µ.

**–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:**
- –î—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫–∏
- –í —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–∞—Ö –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- Finder –º–æ–∂–µ—Ç "–ø–æ–¥–≤–∏—Å–Ω—É—Ç—å" –Ω–∞ 1-2 —Å–µ–∫—É–Ω–¥—ã

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.

### 3. GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `open /Applications/Nexy.app` (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –Ω–∞ macOS), –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –±–∏–Ω–∞—Ä–Ω–∏–∫.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ù–µ—Ç `errAETimeout` –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ—Å—Ç–æ

### 4. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–°–∫—Ä–∏–ø—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GNU-specific –∫–æ–º–∞–Ω–¥—ã:
- ‚ùå –ù–µ—Ç `timeout` (–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ macOS)
- ‚úÖ –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `perl -e 'alarm 5'`
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ PROJECT_ROOT
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ sudo –Ω–∞ –≤—Å—ë –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

---

## üìù –õ–æ–≥–∏

–í—Å–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `rebuild_logs/`:

```
rebuild_logs/
‚îú‚îÄ‚îÄ rebuild_20251011_190000.log  # –ü–æ–ª–Ω—ã–π –ª–æ–≥ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
‚îú‚îÄ‚îÄ build_20251011_190000.log    # –õ–æ–≥ build_final.sh
‚îî‚îÄ‚îÄ ...
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏:
- `/tmp/nexy_first_launch.log` - –ª–æ–≥ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- `~/Library/Application Support/Nexy/logs/` - –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç sudo:
- –£–¥–∞–ª–µ–Ω–∏–µ `/Applications/Nexy.app`
- –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π TCC –±–∞–∑—ã (`/Library/Application Support/com.apple.TCC/TCC.db`)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PKG —á–µ—Ä–µ–∑ `installer`

### –ß—Ç–æ –ù–ï —Ç—Ä–µ–±—É–µ—Ç sudo:
- –°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ PyInstaller
- –ü–æ–¥–ø–∏—Å—å .app –∏ .pkg
- Notarization
- –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üéØ –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
   ```bash
   ./check_permissions.sh
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å smoke test:**
   ```bash
   ./full_permissions_test.sh
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏:**
   ```bash
   log stream --predicate 'subsystem contains "tccd" and message contains "nexy"' --level debug
   ```

4. **–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏–∑ `dist/`
   - –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ `Info.plist`
   - –°–æ–∑–¥–∞—Ç—å Git tag
   - –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å `dist/Nexy.pkg`

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

1. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–≥–∏:**
   ```bash
   tar -czf nexy_rebuild_logs.tar.gz rebuild_logs/ /tmp/nexy_first_launch.log
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - `FINAL_DEPLOYMENT_STATUS.md` - –∏—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å
   - `BUNDLE_ID_ISSUE_ANALYSIS.md` - –ø—Ä–æ–±–ª–µ–º—ã —Å Bundle ID
   - `SUPPORT_PLAYBOOK.md` - playbook –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑–æ–≤—ã–µ –≤–µ—â–∏:**
   ```bash
   # Python –≤–µ—Ä—Å–∏—è
   python3 --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.11+
   
   # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
   security find-identity -v -p codesigning
   
   # Keychain profile
   xcrun notarytool history --keychain-profile NexyNotary
   
   # PyInstaller
   pip3 show pyinstaller
   ```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
./rebuild_from_scratch.sh

# –¢–æ–ª—å–∫–æ –æ—á–∏—Å—Ç–∫–∞ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
./clean_reinstall.sh

# –¢–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ PKG
sudo installer -pkg dist/Nexy.pkg -target /

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
spctl --assess --verbose dist/Nexy.app
spctl --assess --type install dist/Nexy.pkg
codesign --verify --deep --strict dist/Nexy.app

# –¢–æ–ª—å–∫–æ smoke test
./full_permissions_test.sh
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **`FINAL_DEPLOYMENT_STATUS.md`** - –∏—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- **`BUNDLE_ID_ISSUE_ANALYSIS.md`** - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã Bundle ID –∫—ç—à–∞
- **`PERMISSIONS_FIX_SUMMARY.md`** - –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- **`QUICK_PERMISSIONS_CHECK.md`** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **`SUPPORT_PLAYBOOK.md`** - playbook –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- **`Docs/packaging/09_FINAL_RELEASE.md`** - –ø—Ä–æ—Ü–µ—Å—Å —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞

---

**–°–æ–∑–¥–∞–Ω–æ:** AI Assistant  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-11 19:15  
**–í–µ—Ä—Å–∏—è:** 1.0.0

