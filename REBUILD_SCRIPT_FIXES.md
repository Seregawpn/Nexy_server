# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ rebuild_from_scratch.sh

**–î–∞—Ç–∞:** 2025-10-11  
**–í–µ—Ä—Å–∏—è:** 1.1 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è)

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚ùå ‚Üí ‚úÖ –ó–∞–º–µ–Ω–∞ `timeout` –∫–æ–º–∞–Ω–¥—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
# –ù–ï –†–ê–ë–û–¢–ê–ï–¢ –Ω–∞ macOS (timeout –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
timeout 5 log stream --predicate '...' --level debug
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π perl
perl -e 'alarm 5; exec @ARGV' log stream --predicate '...' --level debug
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- macOS –Ω–µ –∏–º–µ–µ—Ç `timeout` –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ brew (`coreutils`) —Å–æ–∑–¥–∞—ë—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- `perl` –≤—Å—Ç—Ä–æ–µ–Ω –≤ macOS –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ
- `alarm` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º timeout –≤ Unix

---

### 2. ‚ùå ‚Üí ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ System Integrity Protection (SIP)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
# –ú–û–õ–ß–ê –ü–ê–î–ê–ï–¢ –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º SIP (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
sudo sqlite3 /Library/.../TCC.db "DELETE FROM ..."
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
log_warning "–í–ê–ñ–ù–û: –°–∏—Å—Ç–µ–º–Ω–∞—è TCC –±–∞–∑–∞ –∑–∞—â–∏—â–µ–Ω–∞ SIP"
log_warning "–ï—Å–ª–∏ SIP –≤–∫–ª—é—á—ë–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –æ—á–∏—Å—Ç–∫–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç"
log_warning "–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - tccutil reset —É–∂–µ —Å–±—Ä–æ—Å–∏–ª –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è"

if sudo sqlite3 /Library/.../TCC.db "DELETE FROM ..." 2>/dev/null; then
    log_success "–°–∏—Å—Ç–µ–º–Ω–∞—è TCC –±–∞–∑–∞ –æ—á–∏—â–µ–Ω–∞ (SIP –æ—Ç–∫–ª—é—á—ë–Ω)"
else
    log_info "–°–∏—Å—Ç–µ–º–Ω–∞—è TCC –±–∞–∑–∞ –∑–∞—â–∏—â–µ–Ω–∞ SIP (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)"
fi
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- SIP –∑–∞—â–∏—â–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é TCC –±–∞–∑—É –æ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π
- `sudo tccutil reset` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–∞–∂–µ —Å SIP
- –ü—Ä—è–º–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ë–î –Ω–µ –Ω—É–∂–Ω–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—É–≥–∞—Ç—å—Å—è "–º–æ–ª—á–∞–ª–∏–≤–æ–≥–æ" –æ—Ç–∫–∞–∑–∞

---

### 3. ‚ùå ‚Üí ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ PROJECT_ROOT

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
# –ñ–Å–°–¢–ö–û –ü–†–û–ü–ò–°–ê–ù–ù–´–ô –ø—É—Ç—å
PROJECT_ROOT="/Users/sergiyzasorin/Development/Nexy/client"
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
PROJECT_ROOT="$(cd "$(dirname "$0")" && pwd)"
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
- –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –¥—Ä—É–≥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- –ö–æ–ª–ª–µ–≥–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π

---

### 4. ‚ùå ‚Üí ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
# –ü–†–Ø–ú–û–ô –≤—ã–∑–æ–≤ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ - –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å errAETimeout
/Applications/Nexy.app/Contents/MacOS/Nexy > /tmp/log.log 2>&1 &
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 'open' - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è GUI –Ω–∞ macOS
open /Applications/Nexy.app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ pgrep
APP_PID=$(pgrep -f "Nexy.app/Contents/MacOS/Nexy" | head -1)
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- `open` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Launch Services (–∫–∞–∫ –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –≤ Finder)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –ù–µ—Ç `errAETimeout` –æ—à–∏–±–æ–∫
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ—Å—Ç–æ

---

### 5. ‚ùå ‚Üí ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ sudo –≤ –Ω–∞—á–∞–ª–µ + –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
# sudo –º–æ–∂–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å—Å—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Å–∫—Ä–∏–ø—Ç–∞
# –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä - —É–ø–∞–¥—ë—Ç –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º sudo –≤ –Ω–∞—á–∞–ª–µ
log_info "–ü—Ä–æ–≤–µ—Ä—è–µ–º sudo –¥–æ—Å—Ç—É–ø..."
if ! sudo -v; then
    log_error "–¢—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!"
    exit 1
fi

# –ü—Ä–æ–¥–ª–µ–≤–∞–µ–º sudo –Ω–∞ –≤—Å—ë –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
(while true; do sudo -n true; sleep 50; done) 2>/dev/null &
SUDO_KEEPER_PID=$!
trap "kill $SUDO_KEEPER_PID 2>/dev/null || true" EXIT
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∑–Ω–∞—ë—Ç –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–∞–≤ —Å—Ä–∞–∑—É
- –ù–µ –Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –°–∫—Ä–∏–ø—Ç –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è sudo timeout
- Background –ø—Ä–æ—Ü–µ—Å—Å —É–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ trap

---

### 6. ‚ùå ‚Üí ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞—Ö lsregister

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥—ë–Ω –æ —à—É–º–µ –≤ –ª–æ–≥–∞—Ö
lsregister -kill -r -domain local -domain system -domain user
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
log_warning "–í–ù–ò–ú–ê–ù–ò–ï: lsregister -kill -r - —Ç—è–∂—ë–ª–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è!"
log_warning "–í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –º–æ–≥—É—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫–∏"
log_warning "–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –±–∞–∑—ã"
echo ""

lsregister -kill -r -domain local -domain system -domain user
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- `lsregister -kill -r` –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –í–°–ï –±–∞–∑—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –î—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ "—Ç–µ—Ä—è—é—Ç" —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- –í —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è—é—Ç—Å—è –æ—à–∏–±–∫–∏
- Finder –º–æ–∂–µ—Ç "–ø–æ–¥–≤–∏—Å–Ω—É—Ç—å" –Ω–∞ 1-2 —Å–µ–∫—É–Ω–¥—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—É–≥–∞—Ç—å—Å—è —ç—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –¥–æ –∏ –ø–æ—Å–ª–µ

| –ê—Å–ø–µ–∫—Ç | –î–û (v1.0) | –ü–û–°–õ–ï (v1.1) | –°—Ç–∞—Ç—É—Å |
|--------|-----------|--------------|--------|
| `timeout` –∫–æ–º–∞–Ω–¥–∞ | ‚ùå –ü–∞–¥–∞–µ—Ç –Ω–∞ —á–∏—Å—Ç–æ–º macOS | ‚úÖ `perl -e 'alarm'` | –ò–°–ü–†–ê–í–õ–ï–ù–û |
| –°–∏—Å—Ç–µ–º–Ω–∞—è TCC –±–∞–∑–∞ | ‚ùå –ú–æ–ª—á–∞–ª–∏–≤—ã–π –æ—Ç–∫–∞–∑ –ø—Ä–∏ SIP | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ + –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | –ò–°–ü–†–ê–í–õ–ï–ù–û |
| PROJECT_ROOT | ‚ùå –ñ—ë—Å—Ç–∫–æ –ø—Ä–æ–ø–∏—Å–∞–Ω | ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è | –ò–°–ü–†–ê–í–õ–ï–ù–û |
| –ó–∞–ø—É—Å–∫ GUI | ‚ùå –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ | ‚úÖ –ß–µ—Ä–µ–∑ `open` | –ò–°–ü–†–ê–í–õ–ï–ù–û |
| sudo –ø—Ä–æ–≤–µ—Ä–∫–∞ | ‚ùå –í —Å–µ—Ä–µ–¥–∏–Ω–µ —Å–∫—Ä–∏–ø—Ç–∞ | ‚úÖ –í –Ω–∞—á–∞–ª–µ + –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ | –ò–°–ü–†–ê–í–õ–ï–ù–û |
| lsregister —à—É–º | ‚ùå –ù–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥—ë–Ω | ‚úÖ –Ø–≤–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | –ò–°–ü–†–ê–í–õ–ï–ù–û |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: timeout –∑–∞–º–µ–Ω–∞

```bash
# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ timeout
perl -e 'alarm 5; exec @ARGV' sleep 10
# –î–æ–ª–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–µ—Ä–≤—ë—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: SIP –æ–±—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å SIP
csrutil status

# –ï—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Å–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω:
# 1. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –±–∞–∑—É
# 2. –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–∫–∞–∑
# 3. –ó–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
# 4. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∫—Ä–∏–ø—Ç –Ω–µ –ø–∞–¥–∞–µ—Ç, –ª–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π PROJECT_ROOT

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –≤ /tmp
cp rebuild_from_scratch.sh /tmp/
cd /tmp
./rebuild_from_scratch.sh
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: GUI –∑–∞–ø—É—Å–∫

```bash
# –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ open:
# 1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ Dock
# 2. –õ–æ–≥–∏ –≤ ~/Library/Application Support/Nexy/logs/
# 3. –ù–µ—Ç errAETimeout –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–∞—Ö
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–µ—Ç timeout –æ—à–∏–±–æ–∫

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: sudo –ø—Ä–æ–¥–ª–µ–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
# –ü–æ–¥–æ–∂–¥–∞—Ç—å > 5 –º–∏–Ω—É—Ç (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π sudo timeout)
# –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–∞—Ä–æ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –¢–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ macOS –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç Homebrew
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ "—á–∏—Å—Ç–æ–π" macOS 13.0+
- ‚úÖ Portable - –º–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏

### UX

- ‚úÖ –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞—Ö
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—É–∑—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

### –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤ –Ω–∞—á–∞–ª–µ
- ‚úÖ Graceful fallback –ø—Ä–∏ SIP
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ sudo
- ‚úÖ Trap –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ background –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (`set -e`)

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **`rebuild_from_scratch.sh`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
- **`REBUILD_GUIDE.md`** - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å —Ä–∞–∑–¥–µ–ª–æ–º "–í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏"
- **`FINAL_DEPLOYMENT_STATUS.md`** - –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- **`clean_reinstall.sh`** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (—Ç–æ–∂–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

---

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [x] `timeout` –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ `perl alarm`
- [x] SIP –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] PROJECT_ROOT –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- [x] GUI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `open`
- [x] sudo –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∏ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è
- [x] –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ lsregister –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] REBUILD_GUIDE.md –æ–±–Ω–æ–≤–ª—ë–Ω
- [x] –í—Å–µ –ª–æ–≥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

---

**–°–æ–∑–¥–∞–Ω–æ:** AI Assistant  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-11 19:30  
**–í–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞:** 1.1 (production-ready)

